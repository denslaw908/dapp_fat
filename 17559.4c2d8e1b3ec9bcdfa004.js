"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[17559],{507458:(e,t,n)=>{function i(){return navigator.androidClipboard??navigator.clipboard}function r(e){return o(e,null)}function o(e,t){const n=e.files&&e.files.length>0;if(!n&&t&&t.eventPhase>0)return s(t,e),Promise.resolve();if(!n){let t=!1;const n=n=>{n.stopImmediatePropagation(),s(n,e),t=!0};try{document.addEventListener("copy",n,!0),document.execCommand("copy")}finally{document.removeEventListener("copy",n,!0)}if(t)return Promise.resolve()}return async function(e){const t=i();if(!t||!t.write||!window.ClipboardItem)throw new DOMException("ClipboardApi is not supported","NotSupportedError");const n={};for(const t of e.files||[])n[t.type]=t;e.text&&(n["text/plain"]=e.text);e.html&&(n["text/html"]=e.html);return t.write([new window.ClipboardItem(n)])}(e)}function s(e,t){e.preventDefault();const n=e.clipboardData;t.text&&n.setData("text/plain",t.text),t.html&&n.setData("text/html",t.html)}async function a(e,t){const n=i();if("text/plain"===t&&!n.write){const t=await e;return n.writeText(await t.text())}if(!n||!n.write||!window.ClipboardItem)throw new DOMException("ClipboardApi is not supported","NotSupportedError");let r=null;try{r=new window.ClipboardItem({[t]:e})}catch(n){r=new window.ClipboardItem({[t]:await e})}if(r)return n.write([r]);throw new Error("ClipboardApi is not supported")}n.r(t),n.d(t,{copyToClipboard:()=>r,getClipboard:()=>i,writeImpl:()=>o,writePromiseUsingApi:()=>a})},999867:(e,t,n)=>{n.d(t,{CheckMobile:()=>r});var i=n(23482);const r={Android:()=>i.isAndroid,BlackBerry:()=>i.isBlackBerry,iOS:()=>i.isIOS,Opera:()=>i.isOperaMini,isIPad:()=>i.isIPad,any:()=>i.isAnyMobile}},351440:(e,t,n)=>{async function i(){return Promise.all([n.e(33334),n.e(18883),n.e(98185),n.e(46195),n.e(15371),n.e(32937),n.e(87833),n.e(38452),n.e(56963),n.e(82321),n.e(62526),n.e(97486)]).then(n.bind(n,826618))}n.d(t,{importPopupRender:()=>i})},613122:(e,t,n)=>{n.r(t),n.d(t,{checkIfMobile:()=>f,closeCurrentPublicationViewPopup:()=>d,getPublicationType:()=>c,importEntryComponent:()=>l,openPublicationViewPopup:()=>p,preloadPublicationViewPopup:()=>h});var i=n(999867),r=n(783359),o=n(314802),s=n(351440);const a=new Set([r.ScriptType.Indicator,r.ScriptType.Library,r.ScriptType.Strategy,"indicator","library","strategy"]);function c({isVideo:e,isScript:t,scriptType:n}){switch(!0){case e:return"video";case t:case a.has(n||""):return"script";default:return"idea"}}async function l(e){switch(e){case"video":
return Promise.all([n.e(62847),n.e(92537),n.e(83439),n.e(61171),n.e(19190),n.e(38752),n.e(67780),n.e(78894),n.e(87833),n.e(39759),n.e(90579),n.e(73425),n.e(52186),n.e(20563),n.e(67691),n.e(76052),n.e(87265),n.e(14391),n.e(43329),n.e(38452),n.e(93240),n.e(84712),n.e(40887),n.e(16990),n.e(66113),n.e(71803),n.e(50575),n.e(82332),n.e(27702),n.e(11069),n.e(19715),n.e(78257),n.e(59546),n.e(55033),n.e(32950),n.e(78836),n.e(6061),n.e(85014),n.e(96908),n.e(98559),n.e(38110),n.e(65161),n.e(38490),n.e(18639),n.e(97827),n.e(95542),n.e(83732),n.e(42893),n.e(52165),n.e(91961),n.e(48598),n.e(1508),n.e(78248),n.e(14405),n.e(93734),n.e(33289),n.e(98392),n.e(4198),n.e(99164),n.e(64134),n.e(28189),n.e(82321),n.e(47793),n.e(24951),n.e(18276),n.e(33079),n.e(13889),n.e(60346),n.e(88536),n.e(57084),n.e(92636),n.e(84775),n.e(54213),n.e(97071)]).then(n.bind(n,720253)).then((e=>e.PublicationViewVideo));case"script":return Promise.all([n.e(83929),n.e(98185),n.e(92537),n.e(83439),n.e(61171),n.e(61681),n.e(98933),n.e(19190),n.e(38752),n.e(67780),n.e(78894),n.e(87833),n.e(98158),n.e(39759),n.e(90579),n.e(73425),n.e(52186),n.e(50874),n.e(65743),n.e(20563),n.e(67691),n.e(76052),n.e(84587),n.e(87265),n.e(14391),n.e(43329),n.e(38452),n.e(93240),n.e(84712),n.e(40887),n.e(16990),n.e(66113),n.e(71803),n.e(27321),n.e(19175),n.e(50575),n.e(82332),n.e(27702),n.e(11069),n.e(19715),n.e(78257),n.e(59546),n.e(55033),n.e(32950),n.e(78836),n.e(6061),n.e(85014),n.e(96908),n.e(98559),n.e(38110),n.e(65161),n.e(38490),n.e(18639),n.e(97827),n.e(95542),n.e(83732),n.e(42893),n.e(52165),n.e(91961),n.e(48598),n.e(1508),n.e(78248),n.e(14405),n.e(93734),n.e(33289),n.e(98392),n.e(4198),n.e(99164),n.e(17909),n.e(82321),n.e(47793),n.e(24951),n.e(18276),n.e(33079),n.e(37556),n.e(13889),n.e(94924),n.e(60346),n.e(88536),n.e(57084),n.e(92636),n.e(84775),n.e(54213),n.e(89949),n.e(14675)]).then(n.bind(n,349414)).then((e=>e.PublicationViewScript));case"idea":return Promise.all([n.e(83929),n.e(98185),n.e(92537),n.e(83439),n.e(61171),n.e(61681),n.e(98933),n.e(19190),n.e(38752),n.e(67780),n.e(78894),n.e(87833),n.e(98158),n.e(39759),n.e(90579),n.e(73425),n.e(52186),n.e(50874),n.e(65743),n.e(20563),n.e(67691),n.e(76052),n.e(84587),n.e(87265),n.e(14391),n.e(43329),n.e(38452),n.e(93240),n.e(84712),n.e(40887),n.e(16990),n.e(66113),n.e(71803),n.e(27321),n.e(19175),n.e(50575),n.e(82332),n.e(27702),n.e(11069),n.e(19715),n.e(78257),n.e(59546),n.e(55033),n.e(32950),n.e(78836),n.e(6061),n.e(85014),n.e(96908),n.e(98559),n.e(38110),n.e(65161),n.e(38490),n.e(18639),n.e(97827),n.e(95542),n.e(83732),n.e(42893),n.e(52165),n.e(91961),n.e(48598),n.e(1508),n.e(78248),n.e(14405),n.e(93734),n.e(33289),n.e(98392),n.e(4198),n.e(99164),n.e(17909),n.e(82321),n.e(47793),n.e(24951),n.e(18276),n.e(33079),n.e(37556),n.e(13889),n.e(94924),n.e(60346),n.e(88536),n.e(57084),n.e(92636),n.e(84775),n.e(54213),n.e(89949),n.e(84822)]).then(n.bind(n,111802)).then((e=>e.PublicationViewIdea))}}let u=!1;async function _(){return u=!0,n.e(58214).then(n.bind(n,661254))}async function d(){if(!u)return;const e=await _()
;await e.closeCurrentPublicationViewPopup()}async function h(e){_(),(0,s.importPopupRender)(),l(e)}async function p(e){return(await _()).openPublicationViewPopup(e)}function f(){return i.CheckMobile.iOS()||(0,o.isOnMobileAppPage)("new")}},783359:(e,t,n)=>{var i,r,o;n.d(t,{CONTAINS_IO_SCRIPT_TAG:()=>s,PublicationMethod:()=>r,ScriptAccessType:()=>i,ScriptType:()=>o}),function(e){e[e.Public=1]="Public",e[e.Protected=2]="Protected",e[e.InviteOnly=3]="InviteOnly"}(i||(i={})),function(e){e[e.New=0]="New",e[e.Edit=1]="Edit",e[e.Update=2]="Update"}(r||(r={})),function(e){e[e.Indicator=1]="Indicator",e[e.Strategy=2]="Strategy",e[e.Library=3]="Library"}(o||(o={}));const s="containsioscript"},214258:(e,t,n)=>{n.d(t,{solutionIds:()=>i})
;const i=JSON.parse('{"EXTENDED_HOURS":43000502023,"PRE_MARKET":43000502023,"POST_MARKET":43000502023,"SPREAD_CHARTS":43000502298,"ALERTS":43000520149,"ALERT_ON_STRATEGY":43000481368,"ALERT_WEBHOOK":43000529348,"ALERT_DESCRIPTION_PLACEHOLDER":43000531021,"ALERT_RECEIVE_NOTIFICATIONS_OH_PHONE":43000474389,"ALERT_USE_ALTERNATIVE_EMAIL":43000474394,"ALERT_WEBHOOK_CREDENTIALS":43000722015,"ALERT_KEEP_TOASTS_VISIBLE":43000737982,"VOLUME_PROFILE":43000502040,"VOLUME_PROFILE_INDICATOR":43000557450,"RENKO":43000502284,"KAGI":43000502272,"LINE_BREAK":43000502273,"PNF":43000502276,"FINANCIAL_DATA":43000543506,"BROKER_RATING":43000542490,"CRYPTO_MARKET_CAP":43000540941,"CRYPTO_PAYMENT":43000485536,"ALERT_ON_SPREAD":43000478406,"ALERT_DEGRADED_STATE":43000739521,"ALERT_ON_LOG_SCALE":43000690942,"ALERT_ON_CUSTOM_SCRIPT":43000478415,"ALERT_FUNCTION":43000597494,"SMS_VERIFICATION":43000553429,"MAGNET_MODE":43000537270,"PRIVACY_SETTINGS":43000548335,"PUBLICATION_TYPE":43000609497,"SCRIPT_ACCESS":43000482573,"FREE_USER_FAQS":43000590947,"STRATEGY_UNREALISTIC_RESULTS":43000481029,"STRATEGY_FUTURE_DATA":43000614705,"HOW_TO_USE_PAPER":43000516466,"HOW_TO_USE_CQG":43000516372,"HOW_TO_USE_OANDA":43000516375,"HOW_TO_USE_FOREXCOM":43000516374,"FAVORITE_IDEA":43000555216,"AUTHORS_INSTRUCTIONS_PUBCLICATION":43000549951,"AUTHORS_INSTRUCTIONS_EDIT":43000614618,"SCRIPT_INSTRUCTIONS":43000482573,"BAR_REPLAY_UNAVAILABILITY":43000475470,"WHAT_IS_CBOE_BZX_EXCHANGE":43000473924,"GOPRO_UPGRADE_DESCRIPTION":43000473324,"GOPRO_DOWNGRADE_DESCRIPTION":43000485437,"GOPRO_RENEW_ANNUAL_MONTHLY_DESCRIPTION":43000644491,"FINANCIALS_OWNERSHIP":43000699479,"FINANCIALS_VALUATION_SUMMARY":43000699484,"FINANCIALS_VALUATION_RATIOS":43000699495,"FINANCIALS_GROWTH_AND_PROFITABILITY":43000699485,"FINANCIALS_REVENUE_TO_PROFIT_CONVERSION":43000699496,"FINANCIALS_REVENUE_BREAKDOWN_BY_SOURCE":43000699487,"FINANCIALS_REVENUE_BREAKDOWN_BY_COUNTRY":43000699497,"FINANCIALS_REVENUE_ESTIMATES":43000699489,"FINANCIALS_EARNINGS_ESTIMATES":43000699498,"FINANCIALS_DIVIDEND_SUMMARY":43000699500,"FINANCIALS_DIVIDEND_HISTORY":43000699501,"FINANCIALS_DEBT_LEVEL":43000699502,"FINANCIALS_POSITION":43000699503,"FIRE_CONTROL_SOLUTION":43000690939,"BROKERAGE_REVIEWS":43000591351,"LINKS_TO_SOCIAL_MEDIA":43000635806,"PINE_LIBRARY_INFO":43000638371,"HOW_DO_I_UPDATE_DESKTOP_APP":43000647779,"TECHNICAL_RATINGS":43000614331,"BACKTESTING_WIDGET":43000562362,"BACKTESTING_NO_DATA":43000478450,"BACKEND_CONNECTIONS":43000694474,"DEEP_BACKTESTING_WIDGET":43000670566,"DEEP_BACKTESTING":43000666199,"DEEP_BACKTESTING_AVAILABLE_DATA":43000668210,"BETA_BROKERS":43000673434,"VIDEO_UPLOAD_FAILED":43000666607,"VIDEO_DEVICE_ACCESS":43000677209,"PUBLIC_INVITE_ONLY_SCRIPTS":43000614617,"PRIVATE_INVITE_ONLY_SCRIPTS":43000614617,"HOW_DOES_BRACKETS_MANAGEMENT_WORK":43000631987,"HOW_TO_SEE_THE_DEEPEST_HIST_DATA":43000687053,"I_CANT_SEE_ALL_HIST_DATA_ON_RES_LOWER_THAN_DAY":43000480679,"IDEAS_ON_CHART":43000694285,"GET_A_REFUND":43000485430,"USE_SETTLEMENT_AS_CLOSE_ON_DAILY_INTREVAL":43000685268,"ADJUST_FOR_CONTRACT_CHANGES":43000685266,"SWITCHING_CONTINUOUS_FUTURES_CONTRACTS":43000689313,"ADJUST_DATA_FOR_DIVIDENDS":43000590597,"WHY_IS_MY_ACCOUNT_BANNED":43000674726,"HOW_TO_PUBLISH_A_VIDEO_IDEA":43000476752,"TELL_ME_MORE_ABOUT_THE_COMMUNITY_SCRIPTS":43000558522,"HOW_TO_POST_AWESOME_IDEAS_AND_GET_LOTS_OF_LIKES":43000603748,"ABOUT_EXPERT_PLAN":43000677382,"CONNECTIONS_LIMIT_EXCEEDED":43000693877,"ACCOUNT_RECOVERY":43000619597,"HOW_TO_SYNC_CHARTS_ON_LAYOUT":43000629992,"HOW_TO_SEE_BUILTIN_INDICATOR_SOURCE":43000481659,"MULTI_CHART_MODE":43000629990,"QUICK_SEARCH":43000659671,"WHATS_AN_INDICATOR":43000543626,"CHART_TYPES":43000703407,"DRAWING_TOOLS":43000703396,"CUSTOM_INTERVALS":43000543883,"CUSTOM_RANGE_BARS":43000474007,"CANDLESTICK_PATTERNS":43000584462,"MULTI_TIMEFRAME_CHARTS":43000502591,"BAR_REPLAY":43000712747,"PINE_SCRIPT":43000561836,"SCREENER_OVERVIEW":43000635796,"AUTO_CHART_PATTERNS":43000690464,"HOW_TO_PROTECT_YOUR_ACCOUNT":43000582277,"PLUS_BUTTON":43000645256,"PLAN_UPGRADED_BUT_DATA_STILL_DELAYED":43000471705,"WHY_TAX_HAS_BEEN_ADDED_TO_MY_BILL":43000684741,"COMPARE_SYMBOLS_TOOL":43000543053,"SAVED_CHART":43000692404,"CUSTOM_INDICATOR":43000543048,"BIST_MIXED_SUBSCRIPTION":43000609137,"WHY_RENKO_NOT_WORK":43000711502,"ALERTS_SEPARATION_BY_TYPE":43000696403,"WATCHLIST_ALERTS":43000739708,"HOW_TO_SET_UP_ALERTS":43000595315,"PINE_SCRIPT_STRATEGIES":43000562362,"PINE_SCREENER":43000742436,"ECONOMIC_CALENDAR":43000707391,"SCRIPT_PUBLISHING_RULES":43000590599,"DIFFERENCE_BETWEEN_PRO_AND_NONPRO_PLANS":43000677382,"HOW_TO_USE_MINDS":43000690226,"HOW_TO_USE_TRADINGVIEW_CHAT":43000604448,"PAPER_COMPETITION":43000593579,"PAPER_COMPETITION_ACCOUNT":43000721315,"PAPER_COMPETITION_PRIZE":43000721317,"PAPER_COMPETITION_FREE_ACCOUNT":43000721310,"PUBLISHING_AND_UPDATING_IDEAS":43000591338,"USING_MINDS":43000696301,"PUBLISH_VIDEO_IDEA":43000476752,"TAROT_DECK":43000724020,"VAT_NUMBER_GUIDE":43000721910,"AVAILABLE_COMPETITION_INSTRUMENTS":43000721311,"PINE_PERFORMANCE_PROFILER":43000725216,"PINE_LOGS_INFO":43000710876,"INDICATORS":43000474048,"CHART_DATA_EXPORT":43000537255,"TIME_PRICE_OPPORTUNITIES":43000713306,"TICK_INTERVALS":43000709225,"VOLUME_FOOTPRINT":43000726164,"VOLUME_CANDLES":43000724995,"HEIKIN_ASHI":43000619436,"HLC_AREA":43000709062,"BASELINE":43000690232,"HIGH_LOW":43000677196,"COLUMNS":43000673912,"GIFTS":43000739401,"HOW_TO_BECOME_MODERATOR":43000591356,"HOW_TO_FIND_PINE_PROGRAMMER":43000601677,"HOW_TO_CHANGE_REPLAY_INTERVAL":43000739158,"SEASONALS":43000745201,"BAR_CHARTS":43000672403,"CANDLES_CHARTS":43000745269,"HOLLOW_CANDLES_CHARTS":43000745270,"LINE_CHARTS":43000745271,"STEP_LINE_CHARTS":43000745272,"LINE_WITH_MARKERS_CHARTS":43000745273,"AREA_CHARTS":43000745274,"SESSION_VOLUME_PROFILE_CHARTS":43000745275,"TIME_PRICE_OPPORTUNITIES_CHARTS":43000725590,"SOCIAL_NETWORK_HOUSE_RULES":43000591638,"QUICK_AND_EASY_GUIDE":43000718885,"HOW_TO_USE_FILTERS":43000718745,"CHART_VIEW_MODE":43000724233,"WATCHLIST_ALERTS_OTHER":43000739708,"WATCHLIST_ALERTS_HOW":43000653369,"WATCHLIST_ALERTS_CUSTOMIZE":43000662506,"PUBLISH_AN_IDEA":43000589083,"SUPERCHARTS":43000746464,"BASICS":43000746682,"TIME_INTERVALS":43000747934,"LAYOUTS":43000746975,"CONFIGURE":43000748166,"MASTERING":43000745825,"MULTI_TIMEFRAME_ANALYSIS":43000591555,"SET_UP_ALTERNATIVE_EMAIL_ADDRESS":43000474398,"DELETE_ACCOUNT":43000550534,"SIGNATURE_ON_POSTS":43000472770,"SCREENER_DEX":43000744465,"SCREENER_CEX":43000746110,"SCREENER_CRYPTO":43000718742,"SCREENER_BOND":43000743951,"SCREENER_ETF":43000718743,"SCREENER_STOCK":43000718866,"OPTIONS_BUILDER":43000707214,"NEWS_FLOW":43000728828}')
},470316:(e,t,n)=>{n.d(t,{Modifiers:()=>i.Modifiers,hashFromEvent:()=>i.hashFromEvent,humanReadableHash:()=>i.humanReadableHash,humanReadableModifiers:()=>i.humanReadableModifiers,isMacKeyboard:()=>i.isMacKeyboard,modifiersFromEvent:()=>i.modifiersFromEvent});var i=n(591800)},49437:(e,t,n)=>{const{getLogger:i}=n(735566),r=i("TVLocalStorage");var o=function(){try{this.isAvailable=!0,this.localStorage=window.localStorage,this.localStorage.setItem("tvlocalstorage.available","true")}catch(e){delete this.isAvailable,delete this.localStorage}this._updateLength();try{this._report()}catch(e){}};o.prototype._report=function(){if(this.isAvailable){const e=10,t=[];for(let e=0;e<this.localStorage.length;e++){const n=this.key(e);t.push({key:n,length:String(this.getItem(n)).length})}t.sort(((e,t)=>t.length-e.length));const n=t.slice(0,e);t.sort(((e,t)=>t.key.length-e.key.length));const i=t.slice(0,e);r.logNormal(`Total amount of keys in Local Storage: ${this.length}`),r.logNormal(`Top ${e} keys with longest values: ${JSON.stringify(n)}`),r.logNormal(`Top ${e} longest key names: ${JSON.stringify(i)}`);try{navigator.storage.estimate().then((e=>{r.logNormal(`Storage estimate: ${JSON.stringify(e)}`)}))}catch(e){}}},o.prototype.length=0,o.prototype.isAvailable=!1,o.prototype.localStorage={"tvlocalstorage.available":"false"},o.prototype._updateLength=function(){if(this.isAvailable)this.length=this.localStorage.length;else{var e,t=0;for(e in this.localStorage)this.localStorage.hasOwnProperty(e)&&t++;this.length=t}},o.prototype.key=function(e){return this.isAvailable?this.localStorage.key(e):Object.keys(this.localStorage)[e]},o.prototype.getItem=function(e){return this.isAvailable?this.localStorage.getItem(e):void 0===this.localStorage[e]?null:this.localStorage[e]},o.prototype.setItem=function(e,t){this.isAvailable?this.localStorage.setItem(e,t):this.localStorage[e]=t,this._updateLength()},o.prototype.removeItem=function(e){this.isAvailable?this.localStorage.removeItem(e):delete this.localStorage[e],this._updateLength()},o.prototype.clear=function(){this.isAvailable?this.localStorage.clear():this.localStorage={},this._updateLength()},window.TVLocalStorage=new o,e.exports.TVLocalStorage=window.TVLocalStorage},849204:(e,t,n)=>{n.d(t,{LogoSize:()=>i,getLogoUrlResolver:()=>c});var i,r=n(650151),o=n(588948);!function(e){e[e.Medium=0]="Medium",e[e.Large=1]="Large"}(i||(i={}));class s{constructor(e){(0,r.assert)(""!==e,"S3 base url must be a non-empty string"),this._baseUrl=e}getSymbolLogoUrl(e,t){switch((0,r.assert)(""!==e,"logo id must be a non-empty string"),t){case i.Medium:return this._baseUrl+`${e}.svg`;case i.Large:return this._baseUrl+`${e}--big.svg`}}collectSymbolLogoUrls(e,t){const{logoId:n,baseCurrencyLogoId:r,currencyLogoId:o}=e;if(n)return[this.getSymbolLogoUrl(n,t)];const s=[];if(r&&s.push(this.getSymbolLogoUrl(r,t)),o&&s.push(this.getSymbolLogoUrl(o,i.Medium)),s.length<2)return s;const a=s.some((e=>l(e))),c=s.every((e=>!e.includes("country")||l(e)));return a&&c?s.filter((e=>!l(e))):s;function l(e){return e.includes("country/US")}}
getCountryFlagUrl(e,t){return this.getSymbolLogoUrl("country/"+e,t)}getCryptoLogoUrl(e,t){return this.getSymbolLogoUrl("crypto/"+e,t)}getProviderLogoUrl(e,t){return this.getSymbolLogoUrl("provider/"+e,t)}getSourceLogoUrl(e,t){return this.getSymbolLogoUrl("source/"+e,t)}getBlockchainContractLogoUrl(e,t){return this.getSymbolLogoUrl("blockchain/"+e,t)}}let a;function c(){return function(){if(!a){const e=(0,o.getInitData)(),t=e.settings?e.settings.S3_LOGO_SERVICE_BASE_URL:"";a=new s(t)}return a}()}},519073:(e,t,n)=>{function i(e){return void 0!==e&&e.includes("crypto")}function r(e,t){return"stock"===e&&t.includes("right")||"right"===e}function o(e,t){return s(e,t)||"stock"===e&&t.includes("fund")&&t.includes("etf")||"structured"===e&&t.includes("etn")}function s(e,t){return"fund"===e&&t.includes("etf")}function a(e){return"bond"===e}function c(e,t){return"bond"===e&&t.includes("corporate")}function l(e){return"economic"===e}function u(e){return"option"===e}function _(e){return"dex"===e?.centralization}function d(e){return"spread"===e}function h(e){return"futures"===e}function p(e){return"forex"===e}function f(e,t,n){return i(t)&&"spot"===e&&"USD"===n}function E(e,t){return"spot"===e&&t.includes("cryptoasset")}function S(e,t,n){return Boolean("bond"===e&&n&&t.includes("government"))}function m(e,t){return Boolean("bond"===e&&t.includes("government")&&!t.includes("benchmark"))}function I(e){return Boolean(e.typespecs?.includes("yield"))}function T(e,t){return"stock"===e&&t.includes("common")||"stock"===e&&t.includes("preferred")||"stock"===e&&t.includes("forward")||"stock"===e&&t.includes("bonus")||"stock"===e&&t.includes("cfd")||"fund"===e&&t.includes("mutual")||"fund"===e&&t.includes("unit")||"fund"===e&&t.includes("trust")||"fund"===e&&t.includes("reit")||"fund"===e&&t.includes("etn")||"fund"===e&&t.includes("closedend")||"bond"===e&&t.includes("convertible")||"dr"===e||"warrant"===e||"structured"===e&&!t.includes("etn")}function g(e){return e?.includes("discontinued")??!1}n.d(t,{hasCryptoTypespec:()=>i,isBond:()=>a,isCorporateBond:()=>c,isCryptoSpotUsd:()=>f,isCryptoassetSpot:()=>E,isDex:()=>_,isEconomicSymbol:()=>l,isEtf:()=>o,isForexSymbol:()=>p,isFundEtf:()=>s,isFutures:()=>h,isGovernmentBenchmarkBond:()=>S,isGovernmentOnlyBond:()=>m,isOption:()=>u,isRight:()=>r,isSpread:()=>d,isStocksSymbol:()=>T,isSymbolDelisted:()=>g,isYield:()=>I})},526225:(e,t,n)=>{n.d(t,{syncUserConversionData:()=>_,syncUserData:()=>u});var i=n(735566),r=n(345848),o=n(803912),s=n(357173);const a=(0,i.getLogger)("User.Sync");function c(e){return`${e}_${window.user&&window.user.username||""}`}function l(e,t,n,i=!0){n!==window.user.pro_plan&&(window.user.pro_plan=n,window.user.is_pro=Boolean(n),(0,r.trackEvent)("Sync User Data","Different Pro Plan",c(e))),t!==window.is_authenticated&&(window.is_authenticated=t,i&&window.loginStateChange.fire(),(0,r.trackEvent)("Sync User Data","Different Auth",c(e)))}async function u(e){try{l(e,!0,(await(0,s.getProPlanDetailsForUser)()).pro_plan)}catch(t){!function(e,t){
403===t.status&&["not_authenticated","login_required"].includes(t.type||"")?l(e,!1,void 0):a.logError(t.message)}(e,t)}}async function _(e,t=!0){const n=new URL("/pricing/",window.location.origin),i=new URLSearchParams(window.location.search);i.has("_test_country")&&n.searchParams.append("_test_country",i.get("_test_country")??"");const r=await(0,o.fetch)(n.href),s=await r.json();return l(e,s.is_authenticated,s.user.pro_plan,t),s}},83871:(e,t,n)=>{n.d(t,{SYMBOL_LIST_SERVICE:()=>i});const i={id:"SymbolListService"}},534197:(e,t,n)=>{n.r(t),n.d(t,{destroyQuoteSessions:()=>c,getQuoteSessionInstance:()=>o,getQuoteSessionNoEnsure:()=>a,setQuoteSessionInstance:()=>s});var i=n(288533);const r={};function o(e="full"){return r[e]||s(e,new i(e)),r[e]}function s(e="full",t){r[e]=t}function a(e="full"){return r[e]}function c(){for(const e in r)if(r.hasOwnProperty(e)){const t=r[e];void 0!==t&&t.destroy(),delete r[e]}}},850117:(e,t,n)=>{n.d(t,{CircularCacheBuffer:()=>o});var i=n(650151);function r(e){const{prevItem:t,nextItem:n}=e;null!==t&&(t.nextItem=n),null!==n&&(n.prevItem=t)}class o{constructor(e=0,t=1.3){this._cache=new Map,this._lastItem=null,this._firstItem=null,this._size=e,this._sizeLimited=e>0,this._capacityFactor=t}set(e,t){const n={key:e,value:t,prevItem:this._lastItem,nextItem:null};null!==this._lastItem&&(this._lastItem.nextItem=n);const i=this._cache.get(e);return void 0!==i&&(r(i),i===this._firstItem&&(this._firstItem=i.nextItem)),this._cache.set(e,n),this._lastItem=n,null===this._firstItem&&(this._firstItem=n),this._sizeLimited&&this._cache.size>this._size*this._capacityFactor&&this._removeExtraItems(),this}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);if(void 0===t)return t;if(t===this._firstItem&&(this._firstItem=t.nextItem??t),t!==this._lastItem){r(t);const e=(0,i.ensureNotNull)(this._lastItem);e.nextItem=t,t.prevItem=e,t.nextItem=null,this._lastItem=t}return t.value}clear(){this._cache.clear(),this._firstItem=null,this._lastItem=null}delete(e){const t=this._cache.get(e);return void 0!==t&&(r(t),t===this._lastItem&&(this._lastItem=t.prevItem),t===this._firstItem&&(this._firstItem=t.nextItem)),this._cache.delete(e)}*entries(){if(null!==this._firstItem)for(let e=this._firstItem;null!==e;e=e.nextItem)yield[e.key,e.value]}state(){const e=[];for(const[t,n]of this.entries())e.push([t,n]);return e}restoreState(e){for(const t of e)this.set(t[0],t[1])}_removeExtraItems(){const e=this._cache.size-this._size;let t=(0,i.ensureNotNull)(this._firstItem);for(let n=0;n<e;n+=1)this._cache.delete(t.key),t=(0,i.ensureNotNull)(t.nextItem);t.prevItem=null,this._firstItem=t}}},643008:(e,t,n)=>{function i(e){return e.includes(":")?e.split(":"):["",e]}n.d(t,{splitSymbolName:()=>i})},810715:(e,t,n)=>{n.d(t,{clone:()=>i.clone,isNumber:()=>i.isNumber,isObject:()=>i.isObject,merge:()=>i.merge});var i=n(536794)},172073:(e,t,n)=>{n.d(t,{Action:()=>a,Loader:()=>l,Separator:()=>c});var i=n(650151),r=n(470316),o=n(623213),s=n(581393);class a{constructor(e){this.type="action",this._destroyed=!1,
this._loadOptionsPromise=null,this._customAction=null;const{actionId:t,options:n,optionsLoader:r,customActionOptions:c,customActionOptionsLoader:l,id:u=o.guid(),onStartListening:_}=e;(0,i.assert)(void 0!==t,"actionId must be defined"),this.id=u,this._onUpdate=new s.ActionDelegate(_),this._options={actionId:t,...n},this.update(n),this._loadOptionsGetter=r??null,this._loadOptionsGetter&&(this._options.loading=!0),c&&(this._customAction=new a({actionId:t,options:c,optionsLoader:l,id:u}))}custom(){return this._customAction}execute(){this._options.checkable&&this.update({checked:!this._options.checked}),this._options.onExecute&&this._options.onExecute(this)}getLabel(){return this._options.label||""}getSubItems(){return this._options.subItems||[]}isDisabled(){return!0===this._options.disabled}isActive(){return!0===this._options.active}isCheckable(){return!0===this._options.checkable}isChecked(){return!0===this._options.checked}isLoading(){return!0===this._options.loading}loadOptions(){return this._loadOptionsPromise?this._loadOptionsPromise:this._loadOptionsGetter?(this._loadOptionsPromise=this._loadOptionsGetter().then((e=>this.update({...e,loading:!1}))),this._loadOptionsPromise):null}getSize(){return this._options.size??"normal"}getPayload(){return this._options.payload}update(e){this._destroyed||(this._unbindShortcut(),e.hotkeyHash&&(this._options.shortcutHint=(0,r.humanReadableHash)(e.hotkeyHash)),this._options=Object.assign(this._options,e),this._bindShortcut(),this._onUpdate.fire(this))}onUpdate(){return this._onUpdate}getState(){return this.loadOptions(),{actionId:this._options.actionId,label:this.getLabel(),styledLabel:this._options.styledLabel,disabled:this.isDisabled(),active:this.isActive(),subItems:this.getSubItems(),checkable:this.isCheckable(),checked:this.isChecked(),loading:this.isLoading(),size:this.getSize(),doNotCloseOnClick:this._options.doNotCloseOnClick||!1,shortcutHint:this._options.shortcutHint,hint:this._options.hint,icon:this._options.icon,iconId:this._options.iconId,iconChecked:this._options.iconChecked,toolbox:this._options.toolbox,showToolboxOnHover:this._options.showToolboxOnHover||!1,statName:this._options.statName,name:this._options.name,invisibleHotkey:this._options.invisibleHotkey,noInteractive:this._options.noInteractive,jsxLabel:"jsxLabel"in this._options?this._options.jsxLabel:void 0,isRepeatAccepted:this._options.isRepeatAccepted}}destroy(){this._destroyed=!0,this._onUpdate.destroy(),this._unbindShortcut(),this._options.onDestroy?.(),this._customAction?.destroy()}options(){return this._options}_bindShortcut(){if(!this._options.hotkeyGroup||!this._options.hotkeyHash)return;const e="string"==typeof this._options.label?this._options.label:this._options.name;this._hotkeyAction=this._options.hotkeyGroup.add({hotkey:this._options.hotkeyHash,isRepeatAccepted:this._options.isRepeatAccepted,desc:e,handler:()=>this.execute(),isDisabled:()=>this.isDisabled()})}_unbindShortcut(){this._hotkeyAction&&(this._hotkeyAction.destroy(),delete this._hotkeyAction)}}class c{constructor(e){
this.type="separator",this.id=o.guid(),this._hint=e}getHint(){return this._hint}}class l extends a{constructor(e){super({actionId:e,options:{}})}isLoading(){return!0}getSize(){return"big"}}},257381:(e,t,n)=>{n.d(t,{ContextMenuManager:()=>i});var i,r=n(660439),o=n(172073),s=n(224743);!function(e){let t=null,i=null;const a=[],c={createAction:e=>new o.Action({actionId:"Chart.CustomActionId",options:e}),createAsyncAction:e=>new o.Action({actionId:"Chart.CustomActionId",options:{},optionsLoader:e}),createSeparator:()=>new o.Separator};async function l(e,o={},s={menuName:""},l){null!==t&&(e=await t(e,c,s));let _=null;const d=()=>{const e=(0,r.indexOf)(a,(e=>e.renderer===_));-1!==e&&a.splice(e,1),void 0!==l&&l()};let h=!1;if(null!==i&&(_=await i(e,s,d)),_)h=!0,u();else{const t=await Promise.all([n.e(19966),n.e(61681),n.e(67780),n.e(66032),n.e(73425),n.e(61667),n.e(93853),n.e(51979),n.e(28260),n.e(16804),n.e(82321),n.e(91584)]).then(n.bind(n,226948));_=new t.ContextMenuRenderer(e,o,d,u)}return a.push({renderer:_,isExternal:h}),_}function u(){(0,s.globalCloseMenu)(),a.forEach((e=>{e.isExternal&&e.renderer.isShown()&&e.renderer.hide()}))}e.createMenu=l,e.showMenu=function(e,t,n={},i,r){return l(e,n,i,r).then((e=>e.show(t)))},e.setCustomRendererFactory=function(e){i=e},e.setCustomItemsProcessor=function(e){t=e},e.hideAll=u,e.getShown=function(){for(let e=0;e<a.length;e++)if(a[e].renderer.isShown())return a[e].renderer;return null}}(i||(i={}))},845889:(e,t,n)=>{var i;n.d(t,{CollectionViewMode:()=>i}),function(e){e.Multichart="multichart",e.ForceFullscreen="force-fullscreen"}(i||(i={}))},191914:(e,t,n)=>{n.d(t,{customFormatters:()=>i});const i={dateFormatter:null,timeFormatter:null,tickMarkFormatter:null,priceFormatterFactory:null,studyFormatterFactory:null}},253674:(e,t,n)=>{n.d(t,{hourMinuteFormat:()=>s,hourMinuteNonZeroSecondFormat:()=>r,hourMinuteSecondFormat:()=>i,hourMinuteSecondMillisecFormat:()=>o,twelveHourMinuteFormat:()=>l,twelveHourMinuteNonZeroSecondFormat:()=>c,twelveHourMinuteSecondFormat:()=>a});const i="%h:%m:%s",r="%h:%m:%s+",o="%h:%m:%s.%ss+",s="%h:%m",a="%h:%m:%s %ampm",c="%h:%m:%s+ %ampm",l="%h:%m %ampm"},74752:(e,t,n)=>{n.d(t,{TimeFormatter:()=>s,hourMinuteFormat:()=>o.hourMinuteFormat,hourMinuteNonZeroSecondFormat:()=>o.hourMinuteNonZeroSecondFormat,hourMinuteSecondFormat:()=>o.hourMinuteSecondFormat,hourMinuteSecondMillisecFormat:()=>o.hourMinuteSecondMillisecFormat,twelveHourMinuteFormat:()=>o.twelveHourMinuteFormat,twelveHourMinuteNonZeroSecondFormat:()=>o.twelveHourMinuteNonZeroSecondFormat,twelveHourMinuteSecondFormat:()=>o.twelveHourMinuteSecondFormat});var i=n(191914),r=n(909456),o=n(253674);class s{constructor(e){this._isTwelveHoursFormat=!1,this._valuesAndDelimeters=[];const t=e||o.hourMinuteSecondFormat,n=new RegExp("%h|%m|%s\\+|%ss\\+|%ss|%ampm|%s","g");let i=n.exec(t),r=0;for(;null!==i;){const e=i[0];"%ampm"===e&&(this._isTwelveHoursFormat=!0);const o=t.substring(r,i.index);""!==o&&this._valuesAndDelimeters.push(o),this._valuesAndDelimeters.push(e),r=i.index+e.length,i=n.exec(t)}}format(e){
return i.customFormatters.timeFormatter?i.customFormatters.timeFormatter.format(e):this._formatTime(e,!1)}formatLocal(e){return i.customFormatters.timeFormatter?i.customFormatters.timeFormatter.formatLocal?i.customFormatters.timeFormatter.formatLocal(e):i.customFormatters.timeFormatter.format(e):this._formatTime(e,!0)}_formatTime(e,t){let n=t?e.getHours():e.getUTCHours();const i=t?e.getMinutes():e.getUTCMinutes(),o=t?e.getSeconds():e.getUTCSeconds(),s=t?e.getMilliseconds():e.getUTCMilliseconds();let a="";this._isTwelveHoursFormat&&(a=n>=12?"PM":"AM",n%=12,n=n||12);let c="",l=!1;for(let e=this._valuesAndDelimeters.length-1;e>=0;e--){const t=this._valuesAndDelimeters[e];let u;switch(t){case"%h":u=(0,r.numberToStringWithLeadingZero)(n,2);break;case"%m":u=(0,r.numberToStringWithLeadingZero)(i,2);break;case"%s+":0!==o?u=(0,r.numberToStringWithLeadingZero)(o,2):(u="",l=!0);break;case"%s":u=(0,r.numberToStringWithLeadingZero)(o,2);break;case"%ss":u=(0,r.numberToStringWithLeadingZero)(s,3);break;case"%ss+":0!==s?u=(0,r.numberToStringWithLeadingZero)(s,3):(u="",l=!0);break;case"%ampm":u=a;break;default:if(l){l=!1;continue}u=t}c=u+c}return c}}},111332:(e,t,n)=>{var i=n(779893),r=n(345848).trackEvent,o=n(735566).getLogger("Pine.ScriptLib"),s=n(175203).telemetry,a={fast:["delete","get","is_auth_to_get","is_auth_to_write","parse_title","rename","lib_list"],medium:["list","eval_pine_ex","translate_light"],slow:["process_legacy","publish","save","translate","translate_source","gen_alert"]},c=/[l|L]ines? (\d*)/;function l(e){if("object"==typeof e.reason)return e.reason;if(e.reason2)return e.reason2;const t={errors:[],warnings:[]},n=e.result&&e.result.metaInfo;if(n&&void 0!==n.warnings&&n.warnings.forEach((e=>t.warnings.push({message:e}))),e.reason){(Array.isArray(e.reason)?e.reason:e.reason.split("\n")).forEach((e=>{const n=e.match(c),i=n&&n.length&&Number(n[1]),r={message:e};if("number"==typeof i){r.start={line:i,column:0};const e=r.message.split(": ");e.shift(),r.message=e.join(": ")}t.errors.push(r)}))}return t}var u={getPineFacadeUrl:function(){return window.PINE_URL},PINE_FACADE_URL:function(){return window.PINE_URL}};u.safetyGetReason=l,u._pineFacadeAjax=function(e,t,n){o.logNormal("Requesting pine facade scripts, url: "+t);var r=function(e){for(var t=Object.keys(a),n=0;n<t.length;n++){var i=a[t[n]].filter((function(t){return-1!==e.indexOf(t)}));if(Boolean(i.length))return t[n]}return!1}(t),c=Date.now();return i.ajax({url:u.PINE_FACADE_URL()+t,type:e,data:n||{},dataType:"json",xhrFields:{withCredentials:!0}}).done((function(){var e=Date.now()-c;s.sendReport("pine",r+"_group_time_frame",{value:e}),s.sendReport("pine",r+"_group_ok"),o.logNormal("Requesting pine facade scripts finished, url: "+t)})).fail((function(){var e=Date.now()-c;s.sendReport("pine",r+"_group_time_frame",{value:e}),s.sendReport("pine",r+"_group_error"),o.logError("Requesting pine facade scripts failed, url: "+t)}))},u._generateAlertAsyncDone=function(e,t){
if(t.error)e.reject(u._readableError(t.error));else if(t.success)e.resolve(t.result.metaInfo,t.result.IL,t.result.inputs||null,t.result.gen_alert_data||null);else{var n=t.result?t.result.metaInfo:null;e.reject(l(t),n)}},u._readableError=function(e,t){return t},u._anyRequestAsyncFail=function(e,t){try{const n=l(JSON.parse(t.responseText));if(n)return e.reject(n)}catch(e){}0===u.PINE_FACADE_URL().indexOf("http")&&o.logError(t.responseText),e.reject(u._readableError(t.status,t.statusText))},u.getPineSourceCode=function(e,t,n){r("Pine","ScriptLib.getPineSourceCode");var o=i.Deferred(),s="?no_4xx="+!!n,a="/get/"+encodeURIComponent(e)+"/"+t+s;return u._pineFacadeAjax("GET",a).done((function(e,t,n){!1===e.success?o.reject(l(e)):o.resolve(e)})).fail((function(e,t,n){u._anyRequestAsyncFail(o,e)})),o.promise()},u.generateAlert=function(e){r("Pine","ScriptLib.generateAlert");var t=i.Deferred(),n=window.user&&window.user.username,o="/gen_alert/?user_name="+encodeURIComponent(n),a={alert_info:e},c=Date.now();return u._pineFacadeAjax("POST",o,a).done((function(e,n,i){s.sendReport("alerts","compilation_ok"),u._generateAlertAsyncDone(t,e)})).fail((function(e,n,i){s.sendReport("alerts","compilation_error"),u._anyRequestAsyncFail(t,e)})).always((function(){var e=Date.now()-c;s.sendReport("alerts","compilation_time_frame",{value:e})})),t.promise()},u.scriptUpdater=function(){return window.scriptUpdater()},u.requestUserPublishedScripts=function(e,t){if(r("Pine","ScriptLib.requestUserPublishedScripts"),window.is_authenticated){if(t||!u._userPublishedScriptsDfd){u._userPublishedScriptsDfd=i.Deferred();var n=u._userPublishedScriptsDfd;u._pineFacadeAjax("GET","/list?filter=published").done((function(e,t,i){n.resolve(e)})).fail((function(e){u._anyRequestAsyncFail(n,e)}))}n=u._userPublishedScriptsDfd}else n=i.Deferred().resolve([]);return"function"==typeof e&&n.done(e),n.promise()},u.requestInfoForScripts=function(e){return Promise.all([u._pineFacadeAjax("GET","/list?filter=saved"),u._pineFacadeAjax("GET","/list?filter=addon")]).then((function(t){var n=t[0],i=t[1];return n.concat(i).filter((function(t){return e.includes(t.scriptIdPart)}))}))},u.requestBuiltinAndUserScripts=function(){r("Pine","ScriptLib.requestBuiltinAndUserScripts"),o.logNormal("Request built-in and user scripts");var e,t=window.user&&window.user.username,n={},i=new Promise((function(t,i){e=t,n.reject=i}));return Promise.all([u._pineFacadeAjax("GET","/list?filter=saved&user_name="+encodeURIComponent(t)),u._pineFacadeAjax("GET","/list?filter=standard")]).then((function(t){o.logNormal("Request built-in and user scripts finished");var n=t[0],i=t[1];e(n.concat(i))})).catch((function(e){o.logWarn("Request built-in and user scripts finished with fail"),u._anyRequestAsyncFail(n,e)})),i},u.requestScriptInfo=function(e){r("Pine","ScriptLib.requestBuiltinAndUserScripts"),o.logNormal("Request public/user script info");var t=i.Deferred();return u._pineFacadeAjax("GET","/get_script_info/?pine_id="+encodeURIComponent(e)).done((function(e){
o.logNormal("Request public/user script info finished"),t.resolve(e)})).fail((function(e){o.logWarn("Request public/user script info finished with fail"),u._anyRequestAsyncFail(t,e)})),t.promise()},u.requestCandlestickScripts=function(){var e;r("Pine","ScriptLib.requestCandlestickScripts"),o.logNormal("Request candlestick scripts");var t={},n=new Promise((function(n,i){e=n,t.reject=i}));return u._pineFacadeAjax("GET","/list?filter=candlestick").done((function(t){o.logNormal("Request candlestick scripts finished"),e(t)})).fail((function(e){o.logWarn("Request candlestick scripts finished with fail"),u._anyRequestAsyncFail(t,e)})),n};var _={time:-1/0,request:null};u.requestFundamentalScripts=function(){if(_.time+6e5>Date.now()&&null!==_.request)return o.logNormal("Return fundamentals from cache"),_.request;o.logNormal("Request fundamental scripts");var e=u._pineFacadeAjax("GET","/list?filter=fundamental");return e.then((function(e){o.logNormal("Request fundamental scripts finished")})),e.fail((function(e){o.logWarn("Request fundamental scripts finished with fail, resetting cache"),_.request=null})),_.time=Date.now(),_.request=Promise.resolve(e.promise()),_.request},u.publishNew=function(e,t,n,o){r("Pine","ScriptLib.publishNew");var s=i.Deferred(),a=window.user&&window.user.username,c="/publish/new/?access="+encodeURIComponent(t)+"&user_name="+encodeURIComponent(a),_={source:e,extra:JSON.stringify({originalScriptId:n,originalScriptVersion:o})};return u._pineFacadeAjax("POST",c,_).done((function(e,t,n){e.success?s.resolve(e):s.reject(l(e))})).fail((function(e,t,n){u._anyRequestAsyncFail(s,e)})),s.promise()},u.publishNext=function(e,t,n,s){o.logNormal("ScriptLib.publishNext","pine"),r("Pine","ScriptLib.publishNext");var a=i.Deferred(),c=window.user&&window.user.username,_="/publish/next/"+encodeURIComponent(t)+"?user_name="+encodeURIComponent(c),d={source:e,extra:JSON.stringify({originalScriptId:n,originalScriptVersion:s})};return u._pineFacadeAjax("POST",_,d).done((function(e,t,n){e.success||a.reject(l(e)),a.resolve(e)})).fail((function(e,t,n){u._anyRequestAsyncFail(a,e)})),a.promise()},u.lightTranslate=function(e,t){return o.logNormal("ScriptLib.lightTranslate","pine"),r("Pine","ScriptLib.lightTranslate"),new Promise((function(n,i){var r=window.user&&window.user.username,o=`/translate_light/?user_name=${encodeURIComponent(r)}`;t&&(o+=`&pine_id=${encodeURIComponent(t)}`);var s={source:e};u._pineFacadeAjax("POST",o,s).done((function(e,t,r){if(e.success)n(e.result);else{var o=e.result&&l(e.result)||l(e);i(o)}})).fail((function(e,t,n){u._anyRequestAsyncFail({reject:i},e)}))}))},u.getLibList=function(e,t,n){return o.logNormal("ScriptLib.getLibList","pine"),r("Pine","ScriptLib.getLibList"),new Promise((function(i,r){var o="/lib_list?lib_id_prefix="+encodeURIComponent(e);t&&(o+="&ignore_cache=true"),n&&(o+="&ignore_case=true"),u._pineFacadeAjax("GET",o).done((function(e,t,n){i(e)})).fail((function(e,t,n){u._anyRequestAsyncFail({reject:r},e)}))}))},u.getExistingLibraryInfo=async function(e){try{
const t=await u.getLibList(e+"/last",!0,!0);if(!t.length)return null;const n=t[0];return{scriptIdPart:n.scriptIdPart,chartId:n.chartId,version:n.version}}catch(e){return null}},e.exports=u},70907:(e,t,n)=>{n.d(t,{DwgExtend:()=>i,convertPointsToScreenDimension:()=>a,doesItemAffectVisibleRange:()=>c,isExtendInSameDirection:()=>s});var i,r=n(650151);function o(e,t){return e===i.None?t:t===i.None?e:e===i.Both||t===i.Both?i.Both:e===t?t:i.Both}function s(e,t){return e===i.Both||e===t}function a(e,t,n,s,a,c,l,u,_,d){let h,p;if(null===e&&null===n){if(a!==i.Right&&a!==i.Both)return null;a=i.Both,h=0,p=u}else null===e?(h=l.indexToCoordinate((0,r.ensureNotNull)(n)-1),a=o(a,i.Left)):h=l.indexToCoordinate(e),null===n?(p=l.indexToCoordinate((0,r.ensureNotNull)(e)-1),a=o(a,i.Right)):p=l.indexToCoordinate(n);const f=h,E=c.priceToCoordinate(t,_),S=p,m=c.priceToCoordinate(s,_);return void 0!==d?(d.x1=f,d.y1=E,d.x2=S,d.y2=m,d.extend=a,d):{x1:f,y1:E,x2:S,y2:m,extend:a}}function c(e,t,n,r,o){let s=!1;switch(n){case i.Both:s=!0;break;case i.Right:s=null===t||null===e||e<=o;break;case i.Left:s=null===t||t>=r;break;default:null!==e&&null!==t?s=(e>=r||t>=r)&&(e<=o||t<=o):null!==e&&null===t?s=e<=o:null===e&&null!==t&&(s=t>=r)}return s}!function(e){e.None="n",e.Left="l",e.Right="r",e.Both="b"}(i||(i={}))},992035:(e,t,n)=>{var i,r,o;n.d(t,{HHistDirection:()=>i,HHistLocation:()=>r,HHistVolumeMode:()=>o}),function(e){e.LeftToRight="left_to_right",e.RightToLeft="right_to_left"}(i||(i={})),function(e){e.Relative="relative",e.Absolute="absolute"}(r||(r={})),function(e){e.UpDown="Up/Down",e.Total="Total",e.Delta="Delta"}(o||(o={}))},691009:(e,t,n)=>{n.d(t,{containsTpoTimePointIndexes:()=>s,dematerializeTpo:()=>c,isTpoInBarsRange:()=>l,materializeTpo:()=>a});var i=n(650151),r=n(707771),o=n(171048);const s=!0;function a(e,t){if(e.firstBarTime>=t.length||e.lastBarTime>=t.length)return null;const n=t[e.firstBarTime],o=t[e.lastBarTime];return n===r.INVALID_TIME_POINT_INDEX||o===r.INVALID_TIME_POINT_INDEX?null:((0,i.assert)(n<=o,"firstBarTime should not exceed lastBarTime"),{id:e.id,firstBarTime:n,lastBarTime:o,priceRange:e.priceRange,times:e.times})}function c(e,t,n){return{id:t,firstBarTime:(0,o.ensureTimePointIndexIndex)(n.indexOf(e.firstBarTime)),lastBarTime:(0,o.ensureTimePointIndexIndex)(n.indexOf(e.lastBarTime)),priceRange:e.priceRange,times:e.times}}function l(e,t){return!(e.lastBarTime<t.firstBar()||e.firstBarTime>t.lastBar())}},657619:(e,t,n)=>{function i(e,t){return`${e}@${t}`}function r(e){return e.replace(/(@[^-]+-[^-]+).*$/,"$1")}n.d(t,{extractStudyId:()=>r,studyIdString:()=>i})},678708:(e,t,n)=>{n.d(t,{isShowPromoVideo:()=>_,isSignModalOpen:()=>u,showSignModal:()=>l});var i=n(586240),r=n(901896),o=n(490778);const s=i["media-mf-tablet-landscape"],a=i["media-mf-tablet-vertical"];let c=()=>!1;async function l(e){const t=Object.assign({},e,{isShowVideo:_()});if(window.TVD&&window.TVD.signIn)return window.TVD.signIn(t);{!function(){const e=window.matchMedia(i["media-mf-tablet-landscape"]).matches?o:r,t=document.createElement("link")
;t.rel="preload",t.as="image",t.href=e,document.head.appendChild(t)}();const e=await Promise.all([n.e(50427),n.e(18883),n.e(98185),n.e(46195),n.e(92537),n.e(15371),n.e(32937),n.e(61171),n.e(67780),n.e(78894),n.e(87833),n.e(90579),n.e(73425),n.e(65743),n.e(76052),n.e(43329),n.e(38452),n.e(27702),n.e(59546),n.e(63585),n.e(26070),n.e(38490),n.e(87104),n.e(72297),n.e(82321),n.e(12831),n.e(14928),n.e(62526),n.e(6207),n.e(36123)]).then(n.bind(n,758873));return c=e.isSignModalOpen,e.showSignModal(t)}}function u(){return c()}function _(){const e=window.matchMedia(s).matches,t=window.matchMedia(a).matches,n=window.innerWidth,i=window.innerHeight;return!!e||!!t&&!(!e&&i<n)}},516350:(e,t,n)=>{n.d(t,{Pro:()=>l});var i=n(803912),r=n(184026),o=n(547465),s=n(588948),a=n(735566);const c=(0,s.getFreshInitData)();class l{constructor(e){this.packagesUpdated=new o.Delegate,this.PRODUCT_TYPES={pro_plan:1,exchange:4,connection:6,coins:8},this._products={},this._invalidShopConf=!1,this._freeProductIds=["tv-scripting","tv-basicstudies","tv-prostudies","Script$USER","Script$EDGR","ESD$TV"],this._discounts={},this._offers=[],this._paidExchanges=[],this._logger=(0,a.getLogger)("Pro"),e&&(this._offers=e.offers??[],this._paidExchanges=e.paid_exchanges??[],this._invalidShopConf=!0,"undefined"!=typeof window&&window.loginStateChange.subscribe(this,this.onLoginStateChange))}isDiscountProductId(e){return e in this._discounts}hasPackage(e){return this._offers.includes(e)||this._freeProductIds.includes(e)}async updateShopConf(e=!1){return void 0!==this._shopConfPromise||(this._shopConfPromise=(0,i.fetch)("/market/shopconf/",{credentials:"include"}).then((async t=>{const n=await t.json();return this._products=n.all_products&&JSON.parse(n.all_products)||{},this._discounts=n.discounts&&JSON.parse(n.discounts)||{},this._offers=n.offers&&JSON.parse(n.offers)||[],this._paidExchanges=n.paid_exchanges&&JSON.parse(n.paid_exchanges)||[],this._invalidShopConf=!1,delete this._shopConfPromise,e||this.packagesUpdated.fire(),n})).catch((()=>{throw this._logger.logError("Update shopconf error"),delete this._shopConfPromise,Error("Update shopconf error")}))),this._shopConfPromise}invalidateShopConf(){this._invalidShopConf=!0}isInvalidShopConf(){return!!this._invalidShopConf}ensureValidShopConf(){return new Promise((e=>this.runOrUpdate(e)))}onLoginStateChange(e){e||this.updateShopConf()}runOrUpdate(e,t){this.isInvalidShopConf()?this.updateShopConf(t).then(e):e()}getIDCExchanges(e){const t=this._products;if(c)if(e){if(c.idc_delay_exchanges_list)return c.idc_delay_exchanges_list}else if(c.idc_exchanges_list)return c.idc_exchanges_list;return Object.keys(t).filter((n=>{const i=t[n];return!!(0,r.isExchange)(i)&&(e?i.idc_service_codes_delay:i.idc_service_codes)})).map((e=>t[e].exchange))}getProduct(e){if(e in this._products)return this._products[e];if(this.isDiscountProductId(e)){const t=this._discounts[e],n={discount_text_id:e,...this._products[t.product]};return void 0!==t.fixed_cost&&(n.fixed_cost=t.fixed_cost),void 0!==t.extra_days&&(n.extra_days=t.extra_days),
void 0!==t.billing_cycle&&(n.billing_cycle=t.billing_cycle),void 0!==t.next_billing_cycle&&(n.next_billing_cycle=t.next_billing_cycle),n}return{}}async findProduct(e){if(this.isInvalidShopConf())try{await this.updateShopConf()}catch{}return this.getProduct(e)}getDiscountProduct(e){return this._discounts[e]??{}}isOffer(e,t){return Object.keys(this._discounts).filter((e=>!this._discounts[e].expired&&this._discounts[e].offer_type===t)).includes(e)}getUserExchanges(){const e=window.pro?.offers();return e?e.map((e=>this.getProduct(e))).filter((e=>(0,r.isExchange)(e))):[]}getUserPaidExchanges(){const e=window.pro?.paidExchanges();return e?e.map((e=>this.getProduct(e))):[]}getUserExchangeByPerm(e){return this.getUserExchanges().find((t=>t.exchange===e))}getExchange(e){const t=this.getProductsByType(r.ProductType.Exchange);let n;for(let i=0;i<t.length;i+=1)if(n=t[i],n.exchange===e||n.included_exchanges&&n.included_exchanges.includes(e))return n;return{}}getProductsByType(e){return Object.keys(this._products).filter((t=>this._products[t].type===e)).map((e=>this.getProduct(e)))}getProPlanProducts(){return this.getProductsByType(r.ProductType.ProPlan).filter((e=>!e.is_expert))}getExpertPlanProducts(){return this.getProductsByType(r.ProductType.ProPlan).filter((e=>e.is_expert))}getPaidExchangesForProfessional(){return this.getProductsByType(r.ProductType.Exchange).filter((e=>e.paid_for_expert))}getProPlanProductsList(){return this.getProPlanProducts().map((e=>e.text_id))}getExpertPlanProductsList(){return this.getExpertPlanProducts().map((e=>e.text_id))}isExpertProduct(e){return this.getExpertPlanProductsList().includes(e)}isPro(){return(0,r.isPro)(window.user)}getSuperProduct(e){}getStudiesOrder(){return[]}userHasRealtimeForExchange(e){const t=(e??"").toLowerCase().replace("exchange-",""),n=this.getExchange(t);if(!(0,r.isProductDefined)(n))return!1;if(this._offers.includes("exchange-"+n.exchange))return!0;if(n.included_exchanges)for(let e=0;e<n.included_exchanges.length;e+=1)if(this._offers.includes("exchange-"+n.included_exchanges[e]))return!0;return!1}hasRealtimeForExchange(e,t){const n=this.getProductsByType(r.ProductType.Exchange),i=(e??"").toLowerCase();for(let e=0;e<n.length;e+=1){const o=n[e];if(o.exchange===i||(o.included_exchanges||[]).includes(i)){if(o.disabled&&!o.included_exchanges)return!1;if(!t)return!0;if(o.included_exchanges){let e;for(let n=0;n<o.included_exchanges.length;n+=1){const i=this.getProduct("exchange-"+o.included_exchanges[n]);if((0,r.isProductDefined)(i)&&(0,r.isExchange)(i)&&this._exHasRealtimeForType(i,t)){e=!0;break}}if(!e)return!1}else if(!this._exHasRealtimeForType(o,t))return!1;return!0}}return!1}offers(){return this._offers}paidExchanges(){return this._paidExchanges}isSupportAvailable(){return Boolean(window.user?.is_support_available||c.is_support_available)}discounts(){return this._discounts}hash(){const e=this._offers.slice(0);e.sort();const t={offers:e};return JSON.stringify(t)}_exHasRealtimeForType(e,t){
return!("stock"===t&&!e.is_stocks)&&(!("index"===t&&!e.is_indices)&&!("futures"===t&&!e.is_futures))}}"undefined"!=typeof window&&window.TradingView&&(window.TradingView.Pro=l)},927435:(e,t,n)=>{n.d(t,{prepareCurrencyValue:()=>r});var i=n(444372);function r(e){let t=[];const r=function(e){switch(e){case"PCT":return"%";case"PCTPAR":return i.t(null,{context:"_max_len_9"},n(46374));case"PCTGDP":return i.t(null,{context:"_max_len_9"},n(421685));default:return e}}(e.currency_code||e.value_unit_id||"");switch(e.measure){case"price":case"unit":t=[r,e.unit_id];break;default:t=[r]}return t.filter(Boolean).join(" / ")}},430518:(e,t,n)=>{n.d(t,{Worker:()=>i});class i extends Worker{constructor(e,t){super(function(e){const t=new URL(e),i=new Blob(["self.WEBPACK_PUBLIC_PATH=",JSON.stringify(new URL(n.p,location.href).href),";\n","self.locale=",JSON.stringify(n.g.locale),";\n",window.language?`self.language=${JSON.stringify(window.language)};\n`:"","importScripts(",JSON.stringify(t.href),");"],{type:"application/javascript"});return URL.createObjectURL(i)}(e),t)}}}}]);