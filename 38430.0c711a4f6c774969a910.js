"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[38430],{796416:(e,t,s)=>{s.d(t,{TOAST_ANIMATION_DURATION:()=>n});const n=500},936442:(e,t,s)=>{s.d(t,{CHART_WARNINIG_GROUP_ID:()=>a,showChartWarningNotification:()=>c});var n=s(148255),i=s(779672),r=s(635588);const o=1e4,a="chart_warning";function c(e,t){return new Promise((s=>{i.toastManager.addToast(e,a,t),(0,r.setToastUserActivityBasedRemovalTimeout)(e,o);const c=(0,n.subscribeOnToast)(e,(e=>{"Remove"!==e.type&&e.details!==r.CLOSE_DUE_TO_INACTIVITY_EVENT_DETAILS||(s(),c())}))}))}},148255:(e,t,s)=>{s.d(t,{subscribeOnToast:()=>n});const n=s(779672).toastManager.subscribeOnToast},635588:(e,t,s)=>{s.d(t,{CLOSE_DUE_TO_INACTIVITY_EVENT_DETAILS:()=>o,setToastUserActivityBasedRemovalTimeout:()=>a});var n=s(779672),i=s(158942);function r(e,t){const s=new Set,n=new i.WatchedValue("hidden"!==document.visibilityState),r=t?.timers||{setTimeout,clearTimeout},o=r.setTimeout,a=r.clearTimeout;let c;const u=t?.ignoreVisibilityChange;n.subscribe((e=>{s.forEach((t=>t(!!e)))}),{callWithLast:!0});const l=()=>{n.setValue(!0),a(c),c=o((()=>{n.setValue(!1)}),e)},d=()=>{"hidden"===document.visibilityState?n.setValue(!1):l()};return{subscribe:t=>{s.size>0||(a(c),c=o((()=>{n.setValue(!1)}),e),document.addEventListener("click",l,{passive:!0}),document.addEventListener("mousemove",l,{passive:!0}),document.addEventListener("keydown",l,{passive:!0}),document.addEventListener("touchstart",l,{passive:!0}),document.addEventListener("wheel",l,{passive:!0}),u||document.addEventListener("visibilitychange",d,{passive:!0})),s.add(t)},unsubscribe:e=>{s.delete(e),0===s.size&&(document.removeEventListener("click",l),document.removeEventListener("mousemove",l),document.removeEventListener("keydown",l),document.removeEventListener("touchstart",l),document.removeEventListener("wheel",l),u||document.removeEventListener("visibilitychange",d),a(c))},value:()=>!!n.value()}}const o="userActivityTimeout",a=function(e,t,s,n){const i=r(s);return function(s,r=2e4){const{start:o,reset:a}=function(e,t){let s;return{start:()=>{s=setTimeout(e,t)},reset:()=>{clearTimeout(s),s=void 0}}}((()=>{e.removeToast(s,n)}),r),c=()=>{const e=i.value(),s=t.value;e&&!s?o():a()};i.subscribe(c),c();const u=t.subscribe(c),l=e.subscribeOnToast(s,(e=>{"RemoveAnimationStart"===e.type&&(a(),l(),i.unsubscribe(c),u())}))}}(n.toastManager,n.toastUserInteractionStatus,15e3,o)},779672:(e,t,s)=>{s.d(t,{toastManager:()=>i,toastUserInteractionStatus:()=>r});var n=s(796416);const i=function(){const e=new Set,t=new Map,s={groups:new Map};function i(e){const t=s.groups.get(e);if(t)return t;const n={id:e,list:new Map,added:new Set,removed:new Set};return s.groups.set(e,n),n}function r(e,n){t.delete(e),n.added.delete(e),n.removed.delete(e),n.list.delete(e),0===n.list.size?s.groups.delete(n.id):s.groups.set(n.id,{...n}),o({type:"Remove",toastId:e,groupId:n.id})}function o(t){s.groups=new Map(s.groups),e.forEach((e=>{e(t)}));const n=a.get(t.toastId);n&&n.forEach((e=>{e(t)}))}const a=new Map;return{
addToast:function(e,n,r,a,c){if(t.get(e))return;const u=i(n);u.added.add(e);const l={id:e,...r,manualAnimationStart:c};u.list.set(e,l),t.set(e,n),s.groups.set(n,{...u}),o({type:"Add",toastId:e,groupId:n,data:r,details:a})},removeToast:function(e,i){const a=t.get(e);if(!a)return;const c=s.groups.get(a);c&&(c.removed.has(e)||(c.removed.add(e),s.groups.set(a,{...c}),o({type:"RemoveAnimationStart",toastId:e,groupId:a,details:i}),setTimeout((()=>{r(e,c)}),n.TOAST_ANIMATION_DURATION)))},removeGroup:function(e,t){const i=s.groups.get(e);if(!i)return;const a=[];i.list.forEach((s=>{const n=s.id;i.removed.has(n)||(a.push(n),i.removed.add(n),o({type:"RemoveAnimationStart",toastId:n,groupId:e,details:t}))})),s.groups.set(e,{...i}),setTimeout((()=>{a.forEach((e=>{r(e,i)}))}),n.TOAST_ANIMATION_DURATION)},startAddAnimation:function(e){const n=t.get(e);if(!n)return;const i=s.groups.get(n);i&&i.added.delete(e)&&(s.groups.set(n,{...i}),o({type:"AddAnimationStart",toastId:e,groupId:n}))},subscribeOnToast:function(e,t){const s=function(e){const t=a.get(e);if(t)return t;const s=new Set;return a.set(e,s),s}(e);return s.add(t),()=>{s.delete(t),0===s.size&&a.delete(e)}},state:s,subscribe:function(t){return e.add(t),()=>{e.delete(t)}}}}(),r=function(){const e=new Set,t=new Set,s={update:function(n,i){n?t.add(i):t.delete(i);const r=t.size>0;s.value!==r&&(s.value=r,e.forEach((e=>{e(n)})))},value:!1,subscribe:function(t){return e.add(t),()=>{e.delete(t)}}};return s}()},261030:(e,t,s)=>{s.d(t,{CookieSettings:()=>n,bannerPrivacyPreferenceKey:()=>p,checkBannerPrivacyPreferenceKey:()=>E,cookieSettingsChangeEvent:()=>u,cookieSettingsReady:()=>l,getCookieSetting:()=>L,hideBanner:()=>w,isBannerVisible:()=>k,notApplicateBanner:()=>N,setCookieSetting:()=>O,showBanner:()=>I});var n,i=s(251954),r=s(925049),o=s(49437),a=s(66974),c=s(639247);!function(e){e.Analytics="analytics",e.Advertising="advertising"}(n||(n={}));const u="cookie_settings_changed",l=(0,r.createDeferredPromise)(),d=window.location.hostname.split("."),h=(0,a.isLocal)()?"":"."+d.slice(1,d.length).join("."),m="cookieBanner",p=(0,a.isProd)()?"cookiePrivacyPreferenceBannerProduction":"cookiePrivacyPreferenceBannerLocal",f="accepted",g="ignored",v="notApplicable",S="cookiesSettings",y="localCookiesSettings",T="cookiePrivacyPreferenceBanner",b={[n.Analytics]:!1,[n.Advertising]:!1};function A(){return o.TVLocalStorage.removeItem(m)}function _(e){return o.TVLocalStorage.getItem(e)===f||o.TVLocalStorage.getItem(e)===v}function E(){return e=p,c.get(e)===f||c.get(e)===v;var e}function w(){R(f)}function I(){R(g)}function N(){R(v)}function R(e){c.set(p,e,3653,"/",h)}function k(){return c.get(p)===g}function O(e,t){b[e]=t,c.set((0,a.isProd)()?S:y,JSON.stringify(b),3653,"/",h),i.emit(u,e,t)}function L(e){return b[e]}function P(){return o.TVLocalStorage.removeItem(T)}!function(){const e=c.get((0,a.isProd)()?S:y),t=o.TVLocalStorage.getItem(T),s=o.TVLocalStorage.getItem(S);if(e){t&&s&&(P(),o.TVLocalStorage.removeItem(S)),_(m)&&A();try{const t=JSON.parse(e);b[n.Analytics]=t?.[n.Analytics]||!1,
b[n.Advertising]=t?.[n.Advertising]||!1}catch{}}else if(_(m)&&(O(n.Analytics,!0),O(n.Advertising,!0),w(),A()),t&&s){const e=JSON.parse(s);R(t),O(n.Analytics,e?.[n.Analytics]),O(n.Advertising,e?.[n.Advertising]),P(),o.TVLocalStorage.removeItem(S)}}()},640263:(e,t,s)=>{s.d(t,{FeatureToggleWatchedValue:()=>r});var n=s(125226),i=s(820028);class r extends i.WatchedValue{constructor(e,t){super(function(e){return(0,n.isFeatureEnabled)(e)}(e)),(0,n.onFeaturesStateChanged)().subscribe(this,(t=>{e===t&&this.setValue((0,n.isFeatureEnabled)(e))}))}destroy(){(0,n.onFeaturesStateChanged)().unsubscribeAll(this),super.destroy()}}},278855:(e,t,s)=>{function n(){return/(?:^|;)\s*theme=(dark|light)(?:;|$)|$/.exec(document.cookie)[1]}function i(e){const t=function(){const e=location.hostname.split(".").filter(Boolean);return e.every(isFinite)?location.host:e.slice(-2).join(".")}(),s=void 0===e?-1:3e8;document.cookie=`theme=${e};path=/;domain=${t};max-age=${s}`}s.d(t,{getThemeFromCookie:()=>n,setThemeToCookie:()=>i})},68777:(e,t,s)=>{s.d(t,{accumulate:()=>a,combine:()=>o,combineWithFilteredUpdate:()=>r});var n=s(820028);function i(e,t,...s){let i=null;const r=(...t)=>e(...t.map((e=>e.value())),i?.value()),o=i=new n.WatchedValue(r(...s)),a=()=>{const e=s.map(((e,t)=>e.value()));t(...e)&&o.setValue(r(...s))},c=s.map((e=>e.spawn()));for(const e of c)e.subscribe(a);return o.readonly().spawn((()=>{c.forEach((e=>e.destroy())),s.forEach((e=>e.release()))}))}function r(e,t,...s){return i(e,t,...s)}function o(e,...t){return i(e,(()=>!0),...t)}function a(e,t,...s){let i=null;const r=o(((...e)=>(e.splice(-1),e)),...s),a=t.spawn(),c=(t,...s)=>{const n=t.map((e=>e.value()));return e(n,...s,i?.value())},u=i=new n.WatchedValue(c(a.value(),...r.value()));let l=[];const d=()=>{u.setValue(c(l,...r.value()))},h=e=>{l.forEach((e=>e.destroy())),l=e.map((e=>e.spawn())),l.forEach((e=>e.subscribe(d))),d()};h(a.value()),a.subscribe(h),r.subscribe(d);return u.readonly().spawn((()=>{l.forEach((e=>e.destroy())),a.destroy(),r.destroy(),t.release()}))}},862150:(e,t,s)=>{function n(e){const t=Object.create(e);return t.release=()=>{},t.ownership=()=>t,t}function i(e){const t=e;return t.release=()=>t.destroy(),t.ownership=()=>t,t}s.d(t,{ownership:()=>i,weakReference:()=>n})},593789:(e,t,s)=>{s.d(t,{invokeAlertEditor:()=>c});var n=s(650151),i=s(310803),r=s(735566),o=s(972806);const a=(0,r.getLogger)("Alerts.Price.InvokeAlertEditor");async function c(e){
const[{getAlertsTrackers:t},{getAlertDialogType:i,shouldAbortAlertEditor:r,showAbortExplainingDialog:c},{lockEditorInvocation:l}]=await Promise.all([Promise.all([s.e(80349),s.e(95063)]).then(s.bind(s,951304)),Promise.all([s.e(42118),s.e(18883),s.e(98185),s.e(46195),s.e(92537),s.e(15371),s.e(32937),s.e(83439),s.e(61171),s.e(61681),s.e(98933),s.e(38752),s.e(25563),s.e(97540),s.e(78894),s.e(98158),s.e(39759),s.e(90579),s.e(73425),s.e(52186),s.e(65743),s.e(67691),s.e(76052),s.e(87265),s.e(14391),s.e(43329),s.e(84712),s.e(16990),s.e(66113),s.e(71803),s.e(30158),s.e(50575),s.e(13485),s.e(44213),s.e(69965),s.e(41392),s.e(78257),s.e(59546),s.e(55033),s.e(32950),s.e(10844),s.e(78836),s.e(6061),s.e(63585),s.e(9872),s.e(30683),s.e(18639),s.e(44059),s.e(3361),s.e(81104),s.e(99117),s.e(13556),s.e(48740),s.e(52956),s.e(47624),s.e(60622),s.e(82321),s.e(90345),s.e(26312),s.e(47793),s.e(5004),s.e(13889),s.e(85182),s.e(7351),s.e(13498),s.e(25454),s.e(78466),s.e(72738),s.e(93390),s.e(27568),s.e(60346),s.e(75659),s.e(40309),s.e(96186),s.e(74317),s.e(29313),s.e(43477),s.e(64368),s.e(20808),s.e(65501),s.e(12557),s.e(77895)]).then(s.bind(s,726827)),Promise.all([s.e(42118),s.e(18883),s.e(98185),s.e(46195),s.e(92537),s.e(15371),s.e(32937),s.e(83439),s.e(61171),s.e(61681),s.e(98933),s.e(38752),s.e(25563),s.e(97540),s.e(78894),s.e(98158),s.e(39759),s.e(90579),s.e(73425),s.e(52186),s.e(65743),s.e(67691),s.e(76052),s.e(87265),s.e(14391),s.e(43329),s.e(84712),s.e(16990),s.e(66113),s.e(71803),s.e(30158),s.e(50575),s.e(13485),s.e(44213),s.e(69965),s.e(41392),s.e(78257),s.e(59546),s.e(55033),s.e(32950),s.e(10844),s.e(78836),s.e(6061),s.e(63585),s.e(9872),s.e(30683),s.e(18639),s.e(44059),s.e(3361),s.e(81104),s.e(99117),s.e(13556),s.e(48740),s.e(52956),s.e(47624),s.e(60622),s.e(82321),s.e(90345),s.e(26312),s.e(47793),s.e(5004),s.e(13889),s.e(85182),s.e(7351),s.e(13498),s.e(25454),s.e(78466),s.e(72738),s.e(93390),s.e(27568),s.e(60346),s.e(75659),s.e(40309),s.e(96186),s.e(74317),s.e(29313),s.e(43477),s.e(64368),s.e(20808),s.e(65501),s.e(12557),s.e(77895)]).then(s.bind(s,314892))]),d=t().maintenance;d.syncOnUserAction();const h=r(e,d);if(null!==h)return h!==o.AlertEditorAbortReason.IsAlreadyPresent&&c(h,i(e)),a.logWarn(`Aborted: ${h}`),void e.onAborted?.(h);const[m,p]=l(e);try{
const[{getAlertSession:t},{invokeDialogAlertEditor:i,invokeSilentAlertEditor:r,convertOptionsForSilentInvoker:o,convertOptionsForDialogInvoker:a},c]=await Promise.all([Promise.all([s.e(94251),s.e(80349),s.e(55848)]).then(s.bind(s,222765)),Promise.all([s.e(42118),s.e(18883),s.e(98185),s.e(46195),s.e(92537),s.e(15371),s.e(32937),s.e(83439),s.e(61171),s.e(61681),s.e(98933),s.e(38752),s.e(25563),s.e(97540),s.e(78894),s.e(98158),s.e(39759),s.e(90579),s.e(73425),s.e(52186),s.e(65743),s.e(67691),s.e(76052),s.e(87265),s.e(14391),s.e(43329),s.e(84712),s.e(16990),s.e(66113),s.e(71803),s.e(30158),s.e(50575),s.e(13485),s.e(44213),s.e(69965),s.e(41392),s.e(78257),s.e(59546),s.e(55033),s.e(32950),s.e(10844),s.e(78836),s.e(6061),s.e(63585),s.e(9872),s.e(30683),s.e(18639),s.e(44059),s.e(3361),s.e(81104),s.e(99117),s.e(13556),s.e(48740),s.e(52956),s.e(47624),s.e(60622),s.e(82321),s.e(90345),s.e(26312),s.e(47793),s.e(5004),s.e(13889),s.e(85182),s.e(7351),s.e(13498),s.e(25454),s.e(78466),s.e(72738),s.e(93390),s.e(27568),s.e(60346),s.e(75659),s.e(40309),s.e(96186),s.e(74317),s.e(29313),s.e(43477),s.e(64368),s.e(20808),s.e(65501),s.e(12557),s.e(77895)]).then(s.bind(s,945386)),u(p)]),l=(0,n.ensureNotNull)(t().user.value());e.silent?r(o(c),l):i(a(c),l)}catch(e){m()}}async function u(e){const t={...e};return t.series&&!await(0,i.hasUserAccessToDataSource)(t.series)&&(delete t.series,delete t.value),t}},998193:(e,t,s)=>{s.d(t,{getAlertColorLineByTheme:()=>k,getAlertSoundsVolume:()=>R,getLabelsSettingsProperty:()=>E,getNotificationsSettingsProperty:()=>I,restoreSettingsProperty:()=>N});var n=s(23482),i=s(650151),r=s(154834),o=s(650279),a=s(998034),c=s(790188),u=s(62802),l=s(61499),d=s(820028),h=s(905520),m=s(288789),p=s(890390);const f="alertLabels",g="alertNotification";let v,S;const y={visible:!0,showOnlyActive:!0,line:{color:"",visible:!0}},T={hideToasts:!0,sound:{volume:.5,isEnabled:!0}},b=new Map([[l.StdTheme.Light,{line:{color:(0,c.getHexColorByName)("color-cold-gray-900")}}],[l.StdTheme.Dark,{line:{color:(0,c.getHexColorByName)("color-cold-gray-200")}}]]);function A(e,t){let s=(0,u.getJSON)(e,null);null===s&&(s=(0,r.default)(t));const n=(0,p.extractAllPropertiesKeys)(t),i=(0,p.extractAllPropertiesKeys)(s);if(!(0,o.default)(n,i)){const e=(0,p.extractState)(s,n);s=(0,a.default)((0,r.default)(t),e)}return s}function _(){v&&(0,u.setJSON)(f,v.state())}function E(){return v||(v=new h.Property(A(f,y)),v.subscribe(null,_),u.onSync.subscribe(null,(()=>{v.mergeAndFire(A(f,y))})),v)}function w(){S&&(0,u.setJSON)(g,S.state())}function I(){return S||(S=new h.Property(A(g,T)),S.subscribe(null,w),u.onSync.subscribe(null,(()=>{S.mergeAndFire(A(g,T))})),S)}function N(){v&&v.mergeAndFire(y),S&&S.mergeAndFire(T)}function R(){if(n.isIOS)return new d.WatchedValue(1).spawn();const e=I().childs().sound.childs(),t=(0,m.combineProperty)(((e,t)=>e?t:0),e.isEnabled.weakReference(),e.volume.weakReference());return(0,m.createWVFromProperty)(t)}function k(e){const t=e.dark().value()?l.StdTheme.Dark:l.StdTheme.Light;return(0,i.ensureDefined)(b.get(t)).line.color}},
477786:(e,t,s)=>{s.d(t,{Interval:()=>l,ResolutionKind:()=>r,SpecialResolutionKind:()=>o,isHour:()=>h});const n=/^(\d*)([TSHDWMR])$/,i=/^(\d+)$/;var r,o;!function(e){e.Ticks="ticks",e.Seconds="seconds",e.Minutes="minutes",e.Days="days",e.Weeks="weeks",e.Months="months",e.Range="range",e.Invalid="invalid"}(r||(r={})),function(e){e.Hours="hours"}(o||(o={}));const a={};a[r.Ticks]=1e3,a[r.Seconds]=1e3,a[r.Minutes]=60*a[r.Seconds],a[r.Days]=1440*a[r.Minutes],a[r.Weeks]=7*a[r.Days];const c={T:r.Ticks,S:r.Seconds,D:r.Days,W:r.Weeks,M:r.Months,R:r.Range},u=new Set([r.Ticks,r.Seconds,r.Minutes]);class l{constructor(e,t){this._kind=r.Invalid,this._multiplier=0,e!==r.Invalid&&t>0&&(this._kind=e,this._multiplier=t)}kind(){return this._kind}guiKind(){return this.isMinuteHours()?o.Hours:this._kind}multiplier(){return this._multiplier}isValid(){return this.kind()!==r.Invalid&&this.multiplier()>0}isDWM(){return this.isValid()&&!this.isRange()&&!this.isIntraday()&&!this.isTicks()}isIntraday(){const e=u.has(this.kind());return this.isValid()&&e}isSeconds(){return this.kind()===r.Seconds}isMinutes(){return this.kind()===r.Minutes}isMinuteHours(){return this.kind()===r.Minutes&&h(this.multiplier())}isDays(){return this.kind()===r.Days}isWeeks(){return this.kind()===r.Weeks}isMonths(){return this.kind()===r.Months}isRange(){return this.kind()===r.Range}isTicks(){return this.kind()===r.Ticks}is1Tick(){return this.isTicks()&&1===this.multiplier()}isTimeBased(){return!this.isRange()}letter(){return this.isValid()&&this.kind()!==r.Minutes?this.kind()[0].toUpperCase():""}value(){return this.isValid()?this.kind()===r.Minutes?this.multiplier()+"":this.multiplier()+this.letter():""}isEqualTo(e){if(!(e instanceof l))throw new Error("Argument is not an Interval");return!(!this.isValid()||!e.isValid())&&(this.kind()===e.kind()&&this.multiplier()===e.multiplier())}inMilliseconds(e=Date.now()){if(!this.isValid()||this.isRange())return NaN;if(this.isMonths()){const t=new Date(e);t.setUTCMonth(t.getUTCMonth()+(this.multiplier()||1));return+t-e}const t=this.multiplier();return a[this.kind()]*t}static isEqual(e,t){return e===t||l.parse(e).isEqualTo(l.parse(t))}static parseExt(e){e=(e+"").toUpperCase().split(",")[0];let t=n.exec(e);return null!==t?"H"===t[2]?{interval:new l(r.Minutes,60*d(t[1])),guiResolutionKind:o.Hours}:{interval:new l(c[t[2]],d(t[1])),guiResolutionKind:c[t[2]]}:(t=i.exec(e),null!==t?{interval:new l(r.Minutes,d(t[1])),guiResolutionKind:r.Minutes}:{interval:new l(r.Invalid,0),guiResolutionKind:r.Invalid})}static parse(e){return l.parseExt(e).interval}static kind(e){return l.parse(e).kind()}static isValid(e){return l.parse(e).isValid()}static isDWM(e){return l.parse(e).isDWM()}static isIntraday(e){return l.parse(e).isIntraday()}static isSeconds(e){return l.parse(e).isSeconds()}static isMinutes(e){return l.parse(e).isMinutes()}static isMinuteHours(e){return l.parse(e).isMinuteHours()}static isDays(e){return l.parse(e).isDays()}static isWeeks(e){return l.parse(e).isWeeks()}static isMonths(e){return l.parse(e).isMonths()}static isRange(e){
return l.parse(e).isRange()}static isTicks(e){return l.parse(e).isTicks()}static isTimeBased(e){return l.parse(e).isTimeBased()}static normalize(e){const t=l.parse(e);return t.isValid()?t.value():null}}function d(e){return 0===e.length?1:parseInt(e,10)}function h(e){return e>=60&&!(e%60)}},781567:(e,t,s)=>{s.d(t,{createPrimitiveProperty:()=>i});var n=s(905520);function i(e){return new n.Property(e)}},421566:(e,t,s)=>{s.d(t,{PropertyBase:()=>r});var n=s(650151),i=s(547465);class r{constructor(){this._listeners=new i.Delegate,this._muteChildChanges=!1,this._owner=null,this._name=""}nameInOwner(){return this._name}setNameInOwner(e){this._name=e}owner(){return this._owner}setOwner(e){this._owner=e}pathToRoot(){const e=this._owner?.pathToRoot();return e?`${e}.${this._name}`:this._name}pathToRootProperty(){if(!this._owner)return"";const e=this._owner.pathToRootProperty?.();return e?`${e}.${this._name}`:this._name}removeProperty(e){(0,n.assert)(!1,`Trying to call "removeProperty" on property ${this.pathToRoot()}`)}addChild(e,t){(0,n.assert)(!1,`Trying to call "addChild" on property ${this.pathToRoot()}`)}hasChild(e){return!1}childCount(){return 0}childNames(){return[]}childs(){(0,n.assert)(!1,`Trying to call "childs" on property ${this.pathToRoot()}`)}state(e,t){return this.value()}merge(e,t){(0,n.assert)(!1,`Trying to call "merge" on property ${this.pathToRoot()}`)}mergeAndFire(e){(0,n.assert)(!1,`Trying to call "mergeAndFire" on property ${this.pathToRoot()}`)}child(e){if(this.hasChild(e))return this.childs()[e]}muteChildChanges(e){this._muteChildChanges=e}fireChanged(){this._listeners.fire(this,this.pathToRootProperty())}listeners(){return this._listeners}subscribe(e,t){this.listeners().subscribe(e,t,!1)}unsubscribe(e,t){this.listeners().unsubscribe(e,t)}unsubscribeAll(e){this.listeners().unsubscribeAll(e)}}},690370:(e,t,s)=>{s.d(t,{DataTypes:()=>n,createPropertySchema:()=>m,dataType:()=>l,extractStateWithSchema:()=>p,isArraySchema:()=>h,validateSchema:()=>d});var n,i=s(569708),r=s(283873),o=s(683350),a=s(456052),c=s(182433),u=s(936714);function l(e){return(0,i.default)(e)?n.NUMBER:(0,r.default)(e)?n.STRING:(0,o.default)(e)?n.BOOLEAN:(0,a.default)(e)?n.ARRAY:null===e?n.UNKNOWN:"object"==typeof e?n.OBJECT:n.UNKNOWN}function d(e,t){const s=l(e);switch(t.type){case n.ARRAY:return s===n.ARRAY&&e.every((e=>d(e,t.subschema)));case n.OBJECT:{if(s!==n.OBJECT)return!1;const i=Object.entries(t.subschema);for(const t of i)if(!d(e[t[0]],t[1]))return!1;return!0}default:return s===t.type||t.type===n.UNKNOWN}}function h(e){return e.type===n.ARRAY}function m(e,t){let s;const i=l(e);switch(i){case n.NUMBER:case n.STRING:case n.BOOLEAN:s={type:i,saveFlags:t};break;case n.ARRAY:s={type:n.ARRAY,saveFlags:t,subschema:m(e[0],t)};break;case n.OBJECT:{const i={};for(const[s,n]of Object.entries(e))i[s]=m(n,t);s={type:n.OBJECT,saveFlags:t,subschema:i};break}default:s={type:n.UNKNOWN,saveFlags:t}}return s}function p(e,t,s){if(!function(e){return e.type===n.OBJECT}(t)||!(0,c.default)(e))return e;const i=Object.keys(e);for(const n of i){
const i=t.subschema[n];void 0===t.saveFlags||i||(0,u.default)(e,n);const r=i?.saveFlags;void 0===r||r&s||(0,u.default)(e,n),i&&p(e[n],i,s)}return e}!function(e){e.STRING="string",e.NUMBER="number",e.BOOLEAN="boolean",e.OBJECT="object",e.ARRAY="array",e.UNKNOWN="unknown"}(n||(n={}))},582441:(e,t,s)=>{s.d(t,{createWVFromGetterAndSubscriptions:()=>i});var n=s(820028);function i(e,t){const s=new n.WatchedValue(e()),i={};t.forEach((t=>t.subscribe(i,(()=>{s.setValue(e())}))));return s.readonly().spawn((()=>t.forEach((e=>e.unsubscribeAll(i)))))}},905520:(e,t,s)=>{s.d(t,{Property:()=>f,isPrimitiveType:()=>p});var n=s(569708),i=s(283873),r=s(683350),o=s(688987),a=s(456052),c=s(650151),u=s(735566),l=s(862150),d=s(421566),h=s(690370);const m=(0,u.getLogger)("Property");function p(e){return null===e||(0,n.default)(e)&&Number.isFinite(e)||(0,i.default)(e)||(0,r.default)(e)}class f extends d.PropertyBase{constructor(e,t){if(super(),this._childs=[],this._dependents=[],this._schema=t||(0,h.createPropertySchema)(e),void 0!==e)if((0,h.validateSchema)(e,this._schema)||m.logWarn(`The state with a data type: ${(0,h.dataType)(e)} does not match a schema`),p(e))this._value=e;else{let t=Object.entries(e);(0,h.isArraySchema)(this._schema)&&(t=t.filter((([e])=>!Number.isNaN(+e))));for(const[e,s]of t)this.addProperty(e,s)}}destroy(){this.listeners().destroy();for(const e of this._childs)this.child(e)?.destroy?.()}merge(e,t){let s=null,n=0;if(t&&(s=[],n=s.length),void 0===e)return s;if(p(e))return this._value!==e&&s?.push(this),this._value=e,s;if((0,a.default)(e)){(0,h.isArraySchema)(this._schema)||m.logWarn("Property is not an array");for(let n=0;n<e.length;n++){const i=this.childs()[n];if(i){const r=i.merge(e[n],t);s?.push(...r)}else{const t=this.addProperty(`${n}`,e[n]);s?.push(t)}}}else{let n=Object.entries(e);(0,h.isArraySchema)(this._schema)&&(n=n.filter((([e])=>!Number.isNaN(+e))));for(const[e,i]of n){const n=this.childs()[e];if(n){const e=n.merge(i,t);s?.push(...e)}else{const t=this.addProperty(e,i);s?.push(t)}}}return s&&s.length>n&&s.push(this),s}mergeAndFire(e){const t=(0,c.ensureNotNull)(this.merge(e,!0));this._fireMergeAndFireChangedProps(t)}state(e,t){const s=(0,o.default)(this.value)?this.value():void 0;if(void 0!==s)return s;const n=(0,h.isArraySchema)(this._schema)?[]:{};for(const s of this._childs){if(e&&-1!==e.indexOf(s))continue;if((0,h.isArraySchema)(this._schema)&&Number.isNaN(+s))continue;if(void 0!==t&&"subschema"in this._schema){const e=(0,h.isArraySchema)(this._schema)?this._schema.subschema:this._schema.subschema[s];if(void 0!==this._schema.saveFlags&&!e)continue;if(void 0!==e?.saveFlags&&!(e.saveFlags&t))continue}const i=this.childs()[s];let r;if(e){const n=[];for(const t of e)t.startsWith(s+".")&&n.push(t.substring(s.length+1));r=i?.state(n,t)}else r=i?.state();(void 0!==r||i?.storeStateIfUndefined())&&((0,a.default)(n)?n[+s]=r:n[s]=r)}return n}clone(){return new f(this.state())}value(){return this._value}childCount(){return this._childs.length}childNames(){return this._childs}childByPath(e){let t=this
;for(const s of e.split(".")){if(void 0===t)break;t=t.child(s)}return t}hasChild(e){return this._childs.includes(e)}setValue(e,t){(this._value!==e||t)&&(this._value=e,this.fireChanged())}setValueSilently(e){this._value=e}addProperty(e,t){let s;(0,h.isArraySchema)(this._schema)&&Number.isNaN(+e)&&m.logWarn("Property is an array"),this.removeProperty(e),this._schema.type===h.DataTypes.OBJECT?s=this._schema.subschema[e]:this._schema.type===h.DataTypes.ARRAY&&(s=this._schema.subschema);const n=new f(t,s);return this[e]=n,this._childs.push(e),n.subscribe(this,((e,t)=>{this._childChanged(e,t)})),n.setOwner(this),n.setNameInOwner(e),n}removeProperty(e){const t=this.child(e);t&&(t.setNameInOwner(""),t.setOwner(null),t.unsubscribeAll(this),delete this[e],this._childs=this._childs.filter((t=>t!==e)))}addChild(e,t){if((0,h.isArraySchema)(this._schema)&&Number.isNaN(+e))throw new Error("Property is an array");this[e]&&this.removeProperty(e),this[e]=t,-1===this._childs.indexOf(e)&&this._childs.push(e),t.subscribe(this,((e,t)=>this._childChanged(e,t))),t.setOwner(this),t.setNameInOwner(e)}childs(){return this}storeStateIfUndefined(){return!0}ownership(){return(0,l.ownership)(this)}weakReference(){return(0,l.weakReference)(this)}addDependent(e){this._dependents.push(e)}removeDependent(e){const t=this._dependents.indexOf(e);t>=0&&this._dependents.splice(t,1)}dependents(){return this._dependents}_childChanged(e,t){this._muteChildChanges||this._listeners.fire(this,t)}_fireMergeAndFireChangedProps(e){this.muteChildChanges(!0);for(const t of e)t.muteChildChanges(!0);for(const t of e)t.muteChildChanges(!1),t.fireChanged();this.muteChildChanges(!1)}}},870855:(e,t,s)=>{s.r(t),s.d(t,{SERIES_STATUS_TEXT:()=>T,STATUS_CALCULATION_ERROR:()=>g,STATUS_DELAYED:()=>d,STATUS_DELAYED_STREAMING:()=>h,STATUS_EOD:()=>u,STATUS_ERROR:()=>f,STATUS_INVALID_SYMBOL:()=>a,STATUS_LOADING:()=>r,STATUS_NO_BARS:()=>m,STATUS_OFFLINE:()=>n,STATUS_PULSE:()=>l,STATUS_READY:()=>o,STATUS_REPLAY:()=>p,STATUS_RESOLVING:()=>i,STATUS_SNAPSHOT:()=>c,STATUS_UNSUPPORTED_RESOLUTION:()=>v,STYLE_AREA:()=>E,STYLE_BARS:()=>b,STYLE_BASELINE:()=>L,STYLE_CANDLES:()=>A,STYLE_COLUMNS:()=>M,STYLE_HEIKEN_ASHI:()=>k,STYLE_HILO:()=>C,STYLE_HLC_AREA:()=>D,STYLE_HLC_BARS:()=>B,STYLE_HOLLOW_CANDLES:()=>O,STYLE_KAGI:()=>I,STYLE_LINE:()=>_,STYLE_LINE_WITH_MARKERS:()=>V,STYLE_PB:()=>R,STYLE_PNF:()=>N,STYLE_RANGE:()=>P,STYLE_RENKO:()=>w,STYLE_SHORT_NAMES:()=>W,STYLE_STEPLINE:()=>U,SYMBOL_STRING_DATA:()=>F,chartStylesWithAttachedStudies:()=>Y,seriesLoadingStatuses:()=>y,seriesReadyStatuses:()=>S});const n=0,i=1,r=2,o=3,a=4,c=5,u=6,l=7,d=8,h=9,m=10,p=11,f=12,g=13,v=14,S=new Set([3,6,7,8,9,11]),y=new Set([1,2]),T={[n]:"connecting",[i]:"loading",[r]:"loading",[o]:"realtime",[a]:"invalid",[c]:"snapshot",[u]:"endofday",[l]:"endofday",[d]:"delayed",[h]:"delayed_streaming",[m]:"forbidden",[p]:"replay",[f]:"error",[g]:"calculation_error",[v]:"unsupported_resolution"},b=0,A=1,_=2,E=3,w=4,I=5,N=6,R=7,k=8,O=9,L=10,P=11,C=12,M=13,V=14,U=15,D=16,B=21,W={0:"bar",1:"candle",9:"hollowCandle",2:"line",
14:"lineWithMarkers",15:"stepline",3:"area",16:"hlcArea",4:"renko",7:"pb",5:"kagi",6:"pnf",8:"ha",10:"baseline",11:"range",12:"hilo",13:"column",17:"volFootprint",18:"tpo",19:"volCandles",20:"svp",21:"hlcBars"},F={4:{type:"BarSetRenko@tv-prostudies",basicStudyVersion:73},7:{type:"BarSetPriceBreak@tv-prostudies",basicStudyVersion:34},5:{type:"BarSetKagi@tv-prostudies",basicStudyVersion:73},6:{type:"BarSetPnF@tv-prostudies",basicStudyVersion:73},8:{type:"BarSetHeikenAshi@tv-basicstudies",basicStudyVersion:60},11:{type:"BarSetRange@tv-basicstudies",basicStudyVersion:72},17:{type:"Footprint@tv-volumebyprice",basicStudyVersion:104},18:{type:"TPOPeriodic@tv-volumebyprice",basicStudyVersion:104},20:{type:"VbPSessions@tv-volumebyprice",basicStudyVersion:126}},Y=[17,18,20]},310803:(e,t,s)=>{function n(e){return r().then((t=>t.hasUserAccessToDataSource(e)))}function i(e){return r().then((t=>t.filterAccessibleDataSources(e)))}s.d(t,{filterAccessibleDataSources:()=>i,hasUserAccessToDataSource:()=>n});const r=()=>Promise.all([s.e(71376),s.e(47793),s.e(24377),s.e(94231),s.e(93390),s.e(75659),s.e(32608),s.e(83441)]).then(s.bind(s,417014))},972806:(e,t,s)=>{var n;s.d(t,{AlertEditorAbortReason:()=>n}),function(e){e.AlertIsInvalid="alert-is-invalid",e.AlertsMaintenance="alerts-maintenance",e.ChartModelNotFound="chart-model-not-found",e.IsAlreadyPresent="is-already-present",e.MainSeriesIsATR="main-series-is-atr",e.MainSeriesIsPercentageLTP="main-series-is-percentage-ltp",e.MainSeriesIsInReplay="main-series-is-in-replay",e.MainSeriesIsOffline="main-series-is-offline",e.SourceIsDangerous="source-is-dangerous",e.SymbolInfoTimeout="symbol-info-timeout",e.SymbolIsInvalid="symbol-is-invalid",e.SymbolCurrencyConverted="symbol-currency-converted",e.SymbolUnitConverted="symbol-unit-converted",e.SymbolCurrencyAndUnitConverted="symbol-currency-and-unit-converted",e.SymbolIsEconomics="symbol-is-economics",e.UnsupportedResolution="unsupported-resolution",e.ManualAbort="manual-abort",e.MisleadingPriceScale="misleading-price-scale",e.ResolutionIsTicks="resolution-is-ticks"}(n||(n={}))},130595:(e,t,s)=>{function n(e,t){const s=new URL("chart",window.location.origin);if(s.searchParams.append("symbol",e),t){const{resolution:e,chartStyle:n}=t;e&&s.searchParams.append("interval",e),n&&s.searchParams.append("style",n.toString())}return s.toString()}function i(e){const t={...e};for(const e of Object.keys(t))void 0===t[e]&&delete t[e];return t}function r(e,t){if(e.length>t){const s=/[\W]+$/g,n=e.substring(0,t),i=n.replace(s,"");return`${i.length?i:n.substring(0,t-1)}â€¦`}return e}function o(){return window.TradingView.onChartPage}s.d(t,{cutString:()=>r,getChartSymbolPageUrl:()=>n,isOnChartPage:()=>o,omitUndefinedValues:()=>i})},258986:(e,t,s)=>{s.d(t,{callWhenOnline:()=>i,waitForOnline:()=>r});var n=s(904653);function i(e){let t=e;const s=()=>{window.removeEventListener("online",s),t&&t()};return window.addEventListener("online",s),()=>{t=null}}async function r(e=null){return!0===navigator.onLine||void 0===navigator.onLine?Promise.resolve():(0,
n.respectAbort)(e,new Promise((e=>{const t=()=>{window.removeEventListener("online",t),e()};window.addEventListener("online",t)})))}}}]);