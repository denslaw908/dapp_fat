"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[78466],{688857:(e,t,n)=>{n.d(t,{addExclusionArea:()=>_,addExclusionAreaByScope:()=>M,calcTextHorizontalShift:()=>b,clearRect:()=>f,createBoundCanvas:()=>x,createDisconnectedCanvas:()=>g,createDisconnectedCanvasByRenderingInfo:()=>w,disableSelection:()=>y,drawScaled:()=>m,drawWithExclusionAreaByScope:()=>R,fillRect:()=>p,getBindingRenderingInfo:()=>c,getContext2D:()=>h,getPrescaledContext2D:()=>u,measureText:()=>S,tryApplySuggestedCanvasBitmapSize:()=>P});var a=n(871934),i=n(650151),o=n(9525),r=n(960433),s=n(969680),l=n(638456);function d(e){return{horizontalPixelRatio:Math.max(1,e.bitmapSize.width/e.canvasElementClientSize.width),verticalPixelRatio:Math.max(1,e.bitmapSize.height/e.canvasElementClientSize.height)}}function c(e){return{...d(e),bitmapSize:e.bitmapSize,mediaSize:e.canvasElementClientSize}}function h(e){const t=(0,i.ensureNotNull)(e.getContext("2d"));return t.setTransform(1,0,0,1,0,0),t}function u(e){const t=(0,i.ensureNotNull)(e.getContext("2d")),n=(0,o.getCanvasDevicePixelRatio)(e);return t.setTransform(n,0,0,n,0,0),t}function p(e,t,n,a,i,o){e.save(),e.fillStyle=o,e.fillRect(t,n,a,i),e.restore()}function f(e,t,n,a,i,o){e.save(),e.globalCompositeOperation="copy",e.fillStyle=o,e.fillRect(t,n,a,i),e.restore()}function m(e,t,n,a){e.save(),e.scale(t,n),a(),e.restore()}function g(e,t,n){const a=v(e);return void 0===n&&(n=(0,o.getCanvasDevicePixelRatio)(a)),a.width=t.width*n,a.height=t.height*n,a}function w(e,t){const{bitmapSize:n,mediaSize:a}=t,i=v(e);return i.style.width=`${a.width}px`,i.style.height=`${a.height}px`,i.width=n.width,i.height=n.height,i}function v(e){const t=e.createElement("canvas");return y(t),t}function x(e,t){const n=v((0,i.ensureNotNull)(e.ownerDocument));e.appendChild(n);const o=(0,a.bindCanvasElementBitmapSizeTo)(n,{type:"device-pixel-content-box",transform:(e,t)=>0===e.width||0===e.height?e:{width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)}});return o.resizeCanvasElement(t),o}function P(e){const t=e.suggestedBitmapSize;return null!==t&&t.width>0&&t.height>0&&(e.applySuggestedBitmapSize(),!0)}function b(e,t){return"center"===e.textAlign?0:(0,s.isRtl)()?"start"===e.textAlign||"right"===e.textAlign?t:0:"start"===e.textAlign||"left"===e.textAlign?0:t}function y(e){e.style.userSelect="none",e.style.webkitUserSelect="none",e.style.msUserSelect="none",e.style.MozUserSelect="none",e.style.webkitTapHighlightColor="transparent"}function M(e,t){const{context:n,horizontalPixelRatio:a,verticalPixelRatio:i,bitmapSize:o}=e;n.beginPath(),n.rect(0,0,o.width,o.height);for(let e=0;e<t.length;e++){let{x:o,y:r}=t[e];o*=a,r*=i,0!==e?n.lineTo(o,r):n.moveTo(o,r)}n.closePath(),n.clip("evenodd")}function _(e,t,n){M({context:e,...t},n)}function R(e,t,n){e.context.save(),M(e,t),n(),e.context.restore()}let T;function S(e,t,n){return T||function(){const e=document.createElement("canvas");e.width=0,e.height=0,(0,l.isMac)()&&(e.style.display="none",document.body.append(e)),T=(0,i.ensureNotNull)(e.getContext("2d")),
T.textBaseline="alphabetic",T.textAlign="center"}(),t&&T.font!==t&&(T.font=t),n?n.getMetrics(T,e):(0,r.getMinTextMetrics)(T.measureText(e))}},9525:(e,t,n)=>{function a(e){return Math.max(1,e.ownerDocument?.defaultView?.devicePixelRatio||1)}n.d(t,{getCanvasDevicePixelRatio:()=>a})},822961:(e,t,n)=>{n.d(t,{lastMouseOrTouchEventInfo:()=>i,setLastMouseOrTouchEventInfo:()=>o});let a=(0,n(638456).supportTouch)()?{isTouch:!0,stylus:!1}:{isTouch:!1};function i(){return a}function o(e){a=e.isTouch?{isTouch:!0,stylus:e.stylus}:{isTouch:!1}}},731974:(e,t,n)=>{n.d(t,{AreaName:()=>a,HitTarget:()=>i,HitTestResult:()=>c,hitTestResultDataAreEqual:()=>d,shouldDefaultActionBeExecuted:()=>l,tryCallHandler:()=>s});var a,i,o=n(650279),r=n(650151);function s(e,t,n,a){if(e.isTouch){if(void 0!==a)return a(e,t),!0}else if(void 0!==n)return n(e,t),!0;return!1}function l(e,t,n,a){return void 0!==t.executeDefaultAction&&(e.isTouch?Boolean(t.executeDefaultAction[a]):Boolean(t.executeDefaultAction[n]))}function d(e,t){return e&&t&&e.equals&&t.equals?e.equals(t):(0,o.default)(e,t)}!function(e){e.Style="Style",e.Text="Text",e.Line="Line",e.Tooltip="Tooltip",e.Button="Button",e.SourceItemMove="SourceItemMove",e.AnchorPoint="AnchorPoint"}(a||(a={})),function(e){e[e.MovePointBackground=1]="MovePointBackground",e[e.Regular=2]="Regular",e[e.MovePoint=3]="MovePoint",e[e.ChangePoint=4]="ChangePoint",e[e.Custom=5]="Custom"}(i||(i={}));class c{constructor(e,t,n){this._target=e,this._data=t||null,this._eraseMarker=n}target(){return this._target}data(){return this._data}mergeData(e){this._data={...(0,r.ensureNotNull)(this._data),...e}}hasPressedMoveHandler(e){return null!==this._data&&function(e,t,n){if(e.isTouch){if(void 0!==n)return!0}else if(void 0!==t)return!0;return!1}(e,this._data.pressedMouseMoveHandler,this._data.touchMoveHandler)}tryCallMouseDownOrTouchStartHandler(e,t){return null!==this._data&&s(e,t,this._data.mouseDownHandler,this._data.touchStartHandler)}tryCallMouseUpOrTouchEndHandler(e,t){return null!==this._data&&s(e,t,this._data.mouseUpHandler,this._data.touchEndHandler)}tryCallMouseEnterHandler(e,t){return null!==this._data&&s(e,t,this._data.mouseEnterHandler)}tryCallMouseLeaveHandler(e,t){return null!==this._data&&s(e,t,this._data.mouseLeaveHandler)}tryCallMouseMoveHandler(e,t){return null!==this._data&&s(e,t,this._data.mouseMoveHandler)}tryCallClickOrTapHandler(e,t){return null!==this._data&&s(e,t,this._data.clickHandler,this._data.tapHandler)}tryCallDblClickOrDblTapHandler(e,t){return null!==this._data&&s(e,t,this._data.doubleClickHandler,this._data.doubleTapHandler)}tryCallContextMenuHandler(e,t){return null!==this._data&&s(e,t,this._data.contextMenuHandler,this._data.touchContextMenuHandler)}eraseMarker(){return this._eraseMarker}}},266954:(e,t,n)=>{n.d(t,{intervalsVisibilitiesDefaults:()=>a});const a={ticks:!0,seconds:!0,secondsFrom:1,secondsTo:59,minutes:!0,minutesFrom:1,minutesTo:59,hours:!0,hoursFrom:1,hoursTo:24,days:!0,daysFrom:1,daysTo:366,weeks:!0,weeksFrom:1,weeksTo:52,months:!0,monthsFrom:1,monthsTo:12,ranges:!0}},
437642:(e,t,n)=>{n.d(t,{crosshairMoveEvent:()=>f,globalChangeEvent:()=>r,hoverChangeEvent:()=>u,selectionChangeEvent:()=>c,sourceChangeEvent:()=>i,viewportChangeEvent:()=>l});var a=n(283873);function i(e){return(0,a.default)(e)?{type:"data-source-change",sourceId:e}:{type:"data-source-change",...e}}const o={type:"global-change"};function r(){return o}const s={type:"viewport-change"};function l(e){return e?{type:"viewport-change",pane:e}:s}const d={type:"selection-change"};function c(){return d}const h={type:"hover-change"};function u(){return h}const p={type:"crosshair-move"};function f(){return p}},338242:(e,t,n)=>{n.r(t),n.d(t,{addHorizontalLineToPath:()=>h,addLineToPath:()=>R,addPixelPerfectLineToPath:()=>S,addVerticalLineToPath:()=>p,clearRectWithGradient:()=>d,clipPolygonByEdge:()=>C,computeDashPattern:()=>_,createCircle:()=>b,drawHorizontalLine:()=>u,drawLine:()=>T,drawPixelPerfectLine:()=>D,drawPoly:()=>y,drawRoundRect:()=>w,drawRoundRectWithInnerBorder:()=>v,drawVerticalLine:()=>f,fillRectInnerBorder:()=>c,fillRectWithBorder:()=>P,scaleDrawRoundRectRadii:()=>m,scaledDashPattern:()=>x,setLineStyle:()=>M});var a=n(86441),i=n(5531),o=n(257145),r=n(770885),s=n(688857),l=n(278688);function d(e,t,n,a,i,o,r){e.save(),e.globalCompositeOperation="copy";const s=e.createLinearGradient(0,0,0,i);s.addColorStop(0,o),s.addColorStop(1,r),e.fillStyle=s,e.fillRect(t,n,a,i),e.restore()}function c(e,t,n,a,i,o){e.fillRect(t+o,n,a-2*o,o),e.fillRect(t+o,n+i-o,a-2*o,o),e.fillRect(t,n,o,i),e.fillRect(t+a-o,n,o,i)}function h(e,t,n,a){const i=e.lineWidth%2?.5:0;e.moveTo(n,t+i),e.lineTo(a,t+i)}function u(e,t,n,a){e.beginPath(),h(e,t,n,a),e.stroke()}function p(e,t,n,a){const i=e.lineWidth%2?.5:0;e.moveTo(t+i,n),e.lineTo(t+i,a)}function f(e,t,n,a){e.beginPath(),p(e,t,n,a),e.stroke()}function m(e,t){return Array.isArray(e)?e.map((e=>Math.round(e*t))):Math.round(e*t)}function g(e,t){return Array.isArray(e)?e.map((e=>0===e?e:e+t)):e+t}function w(e,t,n,a,i,o,r){let s,l,d,c;if(Array.isArray(o))if(2===o.length){const e=Math.max(0,o[0]),t=Math.max(0,o[1]);s=e,l=e,d=t,c=t}else{if(4!==o.length)throw new Error("Wrong border radius - it should be like css border radius");s=Math.max(0,o[0]),l=Math.max(0,o[1]),d=Math.max(0,o[2]),c=Math.max(0,o[3])}else{const e=Math.max(0,o);s=e,l=e,d=e,c=e}r||e.beginPath(),e.moveTo(t+s,n),e.lineTo(t+a-l,n),0!==l&&e.arcTo(t+a,n,t+a,n+l,l),e.lineTo(t+a,n+i-d),0!==d&&e.arcTo(t+a,n+i,t+a-d,n+i,d),e.lineTo(t+c,n+i),0!==c&&e.arcTo(t,n+i,t,n+i-c,c),e.lineTo(t,n+s),0!==s&&e.arcTo(t,n,t+s,n,s)}function v(e,t,n,a,i,o,s=0,l=0,d="",c=r.LineStyle.Solid){if(e.save(),!l||!d||d===o)return w(e,t,n,a,i,s),e.fillStyle=o,e.fill(),void e.restore();const h=l/2;if("transparent"!==o){const h="transparent"!==d&&c!==r.LineStyle.Solid;w(e,h?t:t+l,h?n:n+l,h?a:a-2*l,h?i:i-2*l,h?s:g(s,-l)),e.fillStyle=o,e.fill()}if("transparent"!==d){w(e,t+h,n+h,a-l,i-l,g(s,-h)),e.lineWidth=l,e.strokeStyle=d,M(e,c),e.closePath(),e.stroke()}e.restore()}function x(e,t){return t=Math.max(1,t),e.map((e=>e*t))}function P(e,t,n,a,i,l,d,c,h){
const{context:p}=e,f=l%2/2,m=t+f,g=a+f;let w,v;if(c){const{borderMode:e,borderWidth:r,color:s,dashPattern:d,lineStyle:h}=c;switch(e){case"outer":{const e=-l/2-r/2,t=-r/2;v={left:m+e,right:g-e,top:n+t,bottom:i-t};break}case"center":{const e=r%2/2;v={left:t+e,right:a+e,top:n+e,bottom:i+e};break}case"inner":{const e=-l/2+r/2,t=r/2;v={left:m+e,right:g-e,top:n+t,bottom:i-t}}}p.strokeStyle=s,p.lineWidth=r;let u=-1;d?p.setLineDash(x(d,r)):void 0!==h&&(M(p,h),h===o.LINESTYLE_SOLID&&(u=1)),w={left:v.left+u*r/2,top:v.top+u*r/2,right:v.right-u*r/2,bottom:v.bottom-u*r/2}}if(d&&(p.fillStyle=d.color,w||(w={left:m-l/2,right:g+l/2,top:n,bottom:i}),p.fillRect(w.left,w.top,w.right-w.left,w.bottom-w.top)),h){const{lineWidth:o,lineColor:r,lineStyle:l,excludeBoundaries:d}=h;p.save(),p.lineCap="butt",p.lineWidth=o,p.strokeStyle=r,M(p,l);const f=()=>u(p,Math.floor((n+i)/2),c?.rightToLeftStroke?a:t,c?.rightToLeftStroke?t:a);d?(0,s.drawWithExclusionAreaByScope)(e,d,f):f(),p.restore()}if(v){if((c?.lineStyle??r.LineStyle.Solid)===r.LineStyle.Solid)p.strokeRect(v.left,v.top,v.right-v.left,v.bottom-v.top);else{const e=c?.rightToLeftStroke?v.right:v.left,t=c?.rightToLeftStroke?v.left:v.right,n=v.top,a=v.bottom;p.lineCap="butt",[[e,n,t,n],[e,a,t,a],[e,n,e,a],[t,n,t,a]].forEach((([e,t,n,a])=>{p.beginPath(),p.moveTo(e,t),p.lineTo(n,a),p.stroke()}))}}}function b(e,t,n,a){e.beginPath(),e.arc(t,n,a,0,2*Math.PI,!1),e.closePath()}function y(e,t,n){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(const n of t)e.lineTo(n.x,n.y);e.closePath(),e.stroke(),n&&e.fill()}function M(e,t){let n=[];t!==o.LINESTYLE_SOLID&&(n=_(e.lineWidth,t)),e.setLineDash(n)}function _(e,t){return[[e,2*e],[5*e,6*e],[6*e,6*e],[e,4*e],[2*e,e]][t-1]}function R(e,t,n,a,i){e.moveTo(t,n),e.lineTo(a,i)}function T(e,t,n,a,i){isFinite(t)&&isFinite(a)&&isFinite(n)&&isFinite(i)&&(e.beginPath(),R(e,t,n,a,i),e.stroke())}function S(e,t,n,a,i,o){const{horizontalPixelRatio:r,verticalPixelRatio:s}=o;let l;return t===a?(l=[Math.round(t*r),n*s,Math.round(t*r),i*s],p(e,l[0],l[1],l[3])):n===i?(l=[t*r,Math.round(n*s),a*r,Math.round(n*s)],h(e,l[1],l[0],l[2])):(l=[t*r,n*s,a*r,i*s],R(e,l[0],l[1],l[2],l[3])),l}function D(e,t,n,a,i,o=l.dpr1PixelRatioInfo){e.beginPath(),S(e,t,n,a,i,o),e.stroke()}function C(e,t,n,o){const r=(0,a.equalPoints)(n,o[0])?(0,a.equalPoints)(n,o[1])?null:o[1]:o[0];return null!==e&&null!==r?(0,i.intersectPolygonAndHalfplane)(e,(0,a.halfplaneThroughPoint)((0,a.lineThroughPoints)(t,n),r)):null}},322604:(e,t,n)=>{n.d(t,{PriceAxisViewRenderer:()=>u,hittestByData:()=>h});var a=n(86441),i=n(934026),o=n(822961),r=n(969680),s=n(688857),l=n(731974),d=n(338242);const c=new Path2D("M4.09.93c.4.16.75.4 1.02.73a5.47 5.47 0 0 0-3.78 3.27A2.5 2.5 0 0 1 3.2.77c.31 0 .61.06.89.16Zm8.24 3.35a2.5 2.5 0 0 0-3.27-3.23c-.38.16-.7.4-.97.7a5.47 5.47 0 0 1 3.56 3.5c.3-.26.53-.6.68-.97Zm-3.15-.84a4.5 4.5 0 1 0-5.5 7.12 4.5 4.5 0 0 0 5.5-7.12ZM6 4h1v4H4V7h2V4Z");function h(e,t){const n=(0,o.lastMouseOrTouchEventInfo)().isTouch?20:0,r=e.hitTestData;if(void 0===r||!e.visible)return null
;const{itemBox:s,clickHandler:d,tooltip:c}=r;if(s){const o=(0,a.box)(new a.Point(s.min.x-n,s.min.y-n),new a.Point(s.max.x+n,s.max.y+n));if((0,i.pointInBox)(t,o))return new l.HitTestResult(e.hitTarget??l.HitTarget.Custom,{clickHandler:d?.bind(null,t),tapHandler:d?.bind(null,t),hoverModelFromAxis:r.hoverModelFromAxis,activeItem:r.activeItem,tooltip:c})}return null}class u{constructor(e,t){this._bodyBox=null,this.setData(e,t)}setData(e,t){this._data=e,this._commonData=t}lastDrawnBodyBox(){return this._bodyBox}draw(e,t,n,i,o){const l=this._data,{mediaSize:c,bitmapSize:h,horizontalPixelRatio:u,verticalPixelRatio:p}=t;if(!l.visible||this._isOutOfScreen(n,c.height))return;const f=this._commonData,m=void 0!==l.labelIcon,g=n.paddingTop+f.additionalPaddingTop,w=n.paddingBottom+f.additionalPaddingBottom,{paddingOuter:v,paddingInner:x,fontSize:P,borderSize:b}=n,y=l.ignoreAdditionalPaddingInner?0:n.additionalPaddingInner;let M=l.text,_=l.textColor||f.textColor,R=l.secondLine||"",T=f.secondLineTextColor||_,S=l.thirdLine||"";const D=f.thirdLineTextColor||_;0===R.length&&(R=S,T=D,S=""),0===M.length&&(M=R,_=T,R=S,T=D,S=""),e.save(),void 0!==f.globalAlpha&&(e.globalAlpha*=f.globalAlpha),e.font=n.font;const C=i.yMidCorrection(e,M)*p,I=P+g+w,k=(l.labelIconMinWidth??0)*u,L=Boolean(R),V=Boolean(S),B=x+v+y,A=[Math.ceil(i.measureText(e,M)),L?Math.ceil(i.measureText(e,R)):0,V?Math.ceil(i.measureText(e,S)):0],E=Math.max(1,Math.floor(p));let H=Math.round(I*p);H%2!=E%2&&(H+=1);const z=Math.round((P+n.lineSpacing)*p),N=Math.round(2*(P+n.lineSpacing)*p),O=Math.max(1,Math.floor(b*u)),F=l.separatorVisible?O:0,W=l.borderVisible?O:0,q=m?Math.max(H,k):Math.round((Math.max(...A)+B)*u),G=Math.round(y*u),$=h.width,j=Math.ceil(x*u),U=Math.round((f.fixedCoordinate??f.coordinate)*p)-Math.floor(.5*p),Z=Math.floor(U+E/2-H/2),Y=Z+H,J="right"===o,K=void 0!==l.xCoord?Math.round(l.xCoord*u)+(J?1:-1)*Math.round(q/2):J?$-F:F;let Q,X=K;const ee=l.backgroung??f.background;e.fillStyle=ee;const te=2*p;if(e.textAlign=J?"right":"left",e.textBaseline="middle",J?(X=K-q,Q=K-G-j+F):(X=K+q,Q=K+G+j-F),this._bodyBox=null,M||m){const n=V?H+N:L?H+z:H,i=f.borderColor??ee,o=void 0!==l.xCoord?te:0;if(((t,i,r)=>{if(J){(0,d.drawRoundRectWithInnerBorder)(e,X,Z,q,n,t,l.overridenRadius?(0,d.scaleDrawRoundRectRadii)(l.overridenRadius,p):[te,o,o,te],W,i,r);const s=(0,a.point)(X/u,Z/p),c=s.add((0,a.point)(q/u,n/p));this._bodyBox=(0,a.box)(s,c)}else{(0,d.drawRoundRectWithInnerBorder)(e,K,Z,q,n,t,l.overridenRadius?(0,d.scaleDrawRoundRectRadii)(l.overridenRadius,p):[o,te,te,o],W,i,r);const s=(0,a.point)(K/u,Z/p),c=s.add((0,a.point)(q/u,n/p));this._bodyBox=(0,a.box)(s,c)}})(ee,i,f.borderStyle),m){switch(l.labelIcon){case 0:this._drawPlusIcon(e,K,X,Z,U,Y,E);break;case 1:this._drawClockExistingAlertIcon(e,K,X,t,Z,n)}return void e.restore()}e.save(),e.translate(Q,(Z+Y)/2+C),(0,s.drawScaled)(e,u,p,(()=>{e.fillStyle=_,e.fillText(M,0,0)})),e.restore()}L&&(e.fillStyle=T,e.save(),e.translate(Q,(Z+Y)/2+C+z),(0,s.drawScaled)(e,u,p,(()=>{e.fillText((0,r.startWithLTR)(R),0,0)})),e.restore()),
V&&(e.fillStyle=D,e.save(),e.translate(Q,(Z+Y)/2+C+N),(0,s.drawScaled)(e,u,p,(()=>{e.fillText((0,r.startWithLTR)(S),0,0)})),e.restore()),e.restore()}topBottomTotalHeight(e){const t=this._lines();if(!this._data.visible||0===t)return{top:0,bottom:0,total:0};const n=e.fontSize/2+e.paddingTop+this._commonData.additionalPaddingTop,a=(t-.5)*e.fontSize+(t-1)*e.lineSpacing+e.paddingBottom+this._commonData.additionalPaddingBottom;return{top:n,bottom:a,total:n+a}}hitTest(e){return h(this._data,e)}_drawPlusIcon(e,t,n,a,i,o,r){e.fillStyle=this._commonData.textColor,e.strokeStyle=this._commonData.textColor,e.lineWidth=r;const s=Math.abs(t-n);let l=Math.round(.35*s);l%2!=r%2&&(l+=1);let d=Math.round(.65*s);d%2!=r%2&&(d+=1);const c=Math.floor((s-l)/2),h=Math.min(t,n),u=h+Math.floor(s/2-r/2);e.fillRect(h+c,i,l,r),e.fillRect(u,a+c,r,l),e.beginPath(),e.arc(u+r/2,i+r/2,d/2,0,2*Math.PI,!1),e.stroke()}_drawClockExistingAlertIcon(e,t,n,a,i,o){e.fillStyle=this._commonData.textColor;const r=Math.abs(t-n),s=Math.min(t,n),{horizontalPixelRatio:l,verticalPixelRatio:d}=a,h=r/(23*l),u=r/(23*d),p=12*l*h,f=10.73*d*u,m=Math.floor((r-p)/2),g=Math.floor((o-f)/2)-1;e.save(),e.translate(s+m,i+g),e.scale(l*h,d*u),e.fill(c),e.restore()}_lines(){const e=this._data;return(e.text?1:0)+(e.secondLine?1:0)+(e.thirdLine?1:0)}_isOutOfScreen(e,t){const n=this._commonData,a=n.fixedCoordinate??n.coordinate,{total:i}=this.topBottomTotalHeight(e),o=i/this._lines();return a-o/2-3>t||a+(i-o/2)+3<0}}},597331:(e,t,n)=>{n.d(t,{PriceAxisView:()=>o});var a=n(322604),i=n(534328);class o{constructor(e){this._commonRendererData={coordinate:0,textColor:"#FFF",background:"#000",additionalPaddingBottom:0,additionalPaddingTop:0},this._axisRendererData={text:"",visible:!1,separatorVisible:!0,borderVisible:!1,ignoreAdditionalPaddingInner:!1},this._paneRendererData={text:"",visible:!1,separatorVisible:!1,borderVisible:!1,ignoreAdditionalPaddingInner:!0},this._invalidated=!0,this._active=!1,this._axisRenderer=new(e||a.PriceAxisViewRenderer)(this._axisRendererData,this._commonRendererData),this._paneRenderer=new(e||a.PriceAxisViewRenderer)(this._paneRendererData,this._commonRendererData)}setActive(e){this._active=e}text(){return this._updateRendererDataIfNeeded(),this._axisRendererData.text}secondLineText(){return this._updateRendererDataIfNeeded(),this._axisRendererData.secondLine}thirdLineText(){return this._updateRendererDataIfNeeded(),this._axisRendererData.thirdLine}background(){return this._updateRendererDataIfNeeded(),this._commonRendererData.background}color(){return this._updateRendererDataIfNeeded(),this.generateTextColor(this.background())}generateTextColor(e){return(0,i.colorFromBackground)(e)}coordinate(){return this._updateRendererDataIfNeeded(),this._commonRendererData.coordinate}floatCoordinate(){return this._updateRendererDataIfNeeded(),this._commonRendererData.floatCoordinate??this._commonRendererData.coordinate}update(e){this._invalidated=!0}topBottomTotalHeight(e){this._updateRendererDataIfNeeded()
;const{top:t,bottom:n,total:a}=this._axisRenderer.topBottomTotalHeight(e),{top:i,bottom:o,total:r}=this._paneRenderer.topBottomTotalHeight(e);return{top:Math.max(t,i),bottom:Math.max(n,o),total:Math.max(a,r)}}getFixedCoordinate(){return this._commonRendererData.fixedCoordinate||0}setFixedCoordinate(e){this._commonRendererData.fixedCoordinate=e}isVisible(){return this._updateRendererDataIfNeeded(),this._axisRendererData.visible||this._paneRendererData.visible}isAxisLabelVisible(){return this._updateRendererDataIfNeeded(),this._axisRendererData.visible}isPaneLabelVisible(){return this._updateRendererDataIfNeeded(),this._paneRendererData.visible}renderer(){return this._updateRendererDataIfNeeded(),this._axisRenderer}paneRenderer(){return this._updateRendererDataIfNeeded(),this._paneRenderer}setPaneRendererLabelIcon(e){this._paneRendererData.labelIcon=e}setPaneLabelVisible(e){this._paneRendererData.visible=e,this._invalidated=!0}ignoreAlignment(){return!1}_updateRendererDataIfNeeded(){this._invalidated&&(this._commonRendererData.fixedCoordinate=void 0,this._updateRendererData(this._axisRendererData,this._paneRendererData,this._commonRendererData),this._invalidated=!1)}}},881727:(e,t,n)=>{n.d(t,{isRootPath:()=>s,propertyByPath:()=>r,propertyPathForSource:()=>i});var a=n(650151);function i(e,t="properties"){return`charts.${e.model().id()}.sources.${e.id()}.${t}`}function o(e,t){if(t.length<4)throw new Error("Invalid chart path");const n=function(e,t){return(0,a.ensureDefined)(e.getAll().find((e=>e.hasModel()&&e.model().model().id()===t))).model().model()}(e,t[0]),i=t[1];if("sources"===i){return(0,a.ensureNotNull)(n.dataSourceForId(t[2])).propertyByPath(t.slice(3).join("."))}throw new Error(`Invalid chart path, unknown root: ${i}`)}function r(e,t){const n=t.split(".");if(n.length<1)throw new Error("Invalid path");const a=n[0];if("charts"===a)return o(e,n.slice(1));throw new Error(`Invalid path, unknown root: ${a}`)}function s(e){return e.startsWith("charts.")}},278688:(e,t,n)=>{n.d(t,{dpr1PixelRatioInfo:()=>i,equalPixelRatios:()=>r,equalRenderingInfos:()=>o});var a=n(871934);const i={horizontalPixelRatio:1,verticalPixelRatio:1};function o(e,t){return(0,a.equalSizes)(e.mediaSize,t.mediaSize)&&(0,a.equalSizes)(e.bitmapSize,t.bitmapSize)&&r(e,t)}function r(e,t){return e.horizontalPixelRatio===t.horizontalPixelRatio&&e.verticalPixelRatio===t.verticalPixelRatio}},196302:(e,t,n)=>{n.d(t,{LiveStudyGraphics:()=>r.LiveStudyGraphics,createGraphicsPaneViews:()=>p,createGraphicsPriceAxisViews:()=>m,emptyStudyGraphics:()=>o.emptyStudyGraphics,isStudyGraphicsEmpty:()=>i.isStudyGraphicsEmpty,loadStudyGraphics:()=>o.loadStudyGraphics,saveStudyGraphics:()=>o.saveStudyGraphics});var a=n(735566),i=n(311908),o=n(57088),r=n(284881),s=n(597331),l=n(534328);class d extends s.PriceAxisView{constructor(e,t){super(),this._source=e,this._data=t}_updateRendererData(e,t,n){e.visible=!1;const a=this._source.priceScale(),i=this._source.properties().childs(),o=i.visible.value();if(!a||a.isEmpty()||!o)return
;const r=i.graphics.childs()[this._data.lineType]?.childs()[this._data.styleId]?.childs();if(!(void 0!==r&&r.visible&&r.visible.value()&&r.showPrice&&r.showPrice.value()&&this._isLabelVisibleAccordinglyToProperties()))return;const s=this._source.firstValue();if(null===s)return;const d=this._data.line.level,c=(0,l.resetTransparency)(r.color.value());n.background=c,n.textColor=this.generateTextColor(c),n.coordinate=a.priceToCoordinate(d,s),e.text=a.formatPrice(d,s,{signPositive:a.isPercentage()}),e.visible=!0}_isLabelVisibleAccordinglyToProperties(){const e=this._source.model().properties().childs().scalesProperties.childs();return(e.showStudyLastValue.value()||e.showFundamentalLastValue.value())&&this._source.properties().childs().showLabelsOnPriceScale.value()}}const c=(0,a.getLogger)("Chart.StudyGraphics"),h=new Set(["dwgtablecells","tpoBlockSets","tpoLevels","tpoVolumeRows","logs","performance"]);async function u(e,t,a,i){const o=e=>({regularPaneView:new e(t,a,i)}),r=e=>({regularPaneView:new e(t,a,!1,i),forceOverlayPaneView:new e(t,a,!0,i)});switch(e){case"hlines":return o((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,350355))).LevelPaneView);case"lines":return o((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,822305))).LinePaneView);case"shapemarks":return o((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,38533))).ShapeMarkPaneView);case"textmarks":return o((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,461449))).TextMarkPaneView);case"trendchannels":return o((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,667059))).TrendChannelPaneView);case"dwglabels":return r((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,183941))).DwgLabelPaneView);case"dwglines":return r((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,77148))).DwgLinePaneView);case"dwgpolylines":return r((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,380729))).DwgPolylinePaneView);case"dwgboxes":return r((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,973151))).DwgBoxPaneView);case"dwgtables":return r((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,35404))).DwgTablePaneView);case"dwglinefills":return r((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,592739))).DwgLineFillPaneView);case"tpos":return{regularPaneView:new((await Promise.all([n.e(32856),n.e(32121),n.e(7815),n.e(23301),n.e(27860),n.e(31114),n.e(33453),n.e(7232),n.e(88003),n.e(769)]).then(n.bind(n,86981))).TpoPaneView)(t,a,i)};case"footprints":return{regularPaneView:new((await Promise.all([n.e(80977),n.e(99177),n.e(9141)]).then(n.bind(n,637645))).VolumeFootprintPaneView)(t,a)}}switch(e){case"hhists":
return o((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,910529))).HHistPaneView);case"horizlines":return o((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,614478))).HorizLinePaneView);case"vertlines":return o((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,965690))).VertLinePaneView);case"polygons":return o((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,588892))).PolygonPaneView);case"backgrounds":return o((await Promise.all([n.e(63317),n.e(27860),n.e(3205),n.e(88003),n.e(20507)]).then(n.bind(n,758989))).BackgroundPaneView)}return null}async function p(e,t,n){const a=[],i=[],o=Object.keys(e.graphicsInfo());o.sort(((e,t)=>f(e)-f(t)));for(const r of o){const o=await u(r,e,t,n);null!==o?(a.push(o.regularPaneView),o.forceOverlayPaneView&&i.push(o.forceOverlayPaneView)):h.has(r)||c.logWarn(`${r} is not supported by this build of graphics subsystem, skipping`)}return{regularPaneViews:a,forceOverlayPaneViews:i}}function f(e){return i.primitivesZOrders.get(e)??0}function m(e){const t=Object.keys(e.graphicsInfo()),n=[];for(const a of t)switch(a){case"hlines":e.graphics().hlines().forEach(((t,i)=>{t.forEach((t=>{void 0!==t.level&&n.push(new d(e,{line:{level:t.level},styleId:i,lineType:a}))}))}));break;case"horizlines":e.graphics().horizlines().forEach(((t,i)=>{t.forEach((t=>{void 0!==t.level&&n.push(new d(e,{line:{level:t.level},styleId:i,lineType:a}))}))}))}return n}},259710:(e,t,n)=>{n.d(t,{makeNextStudyId:()=>r,makeNextSymbolId:()=>i});let a=0;function i(){return a++,"ss_"+a}let o=0;function r(){return o++,"st"+o}},423783:(e,t,n)=>{n.d(t,{colorsAreCloseEnough:()=>s});var a=n(724377);function i(e){return e<0&&(e+=2*Math.PI),e}const o=[127,127,127];function r(e){const t=e[3],n=e.slice(0,3);for(let e=0;e<3;e++)n[e]=Math.round(n[e]*t+o[e]*(1-t));return n}function s(e,t){const n=function(e,t){const[n,a,o]=e,[r,s,l]=t,d=(Math.sqrt(a**2+o**2)+Math.sqrt(s**2+l**2))/2,c=.5*(1-Math.sqrt(Math.pow(d,7)/(Math.pow(d,7)+6103515625))),h=(1+c)*a,u=(1+c)*s,p=Math.sqrt(h*h+o*o),f=Math.sqrt(u*u+l*l),m=0===o&&0===h?0:i(Math.atan2(o,h)),g=0===l&&0===u?0:i(Math.atan2(l,u)),w=r-n,v=f-p;let x;const P=p*f;0===P?x=0:(x=g-m,x<-Math.PI?x+=2*Math.PI:x>Math.PI&&(x-=2*Math.PI));const b=2*Math.sqrt(P)*Math.sin(x/2),y=(n+r)/2,M=(p+f)/2;let _;const R=m+g;_=p*f==0?R:Math.abs(m-g)<=Math.PI?R/2:R<2*Math.PI?(R+2*Math.PI)/2:(R-2*Math.PI)/2;const T=1-.17*Math.cos(_-Math.PI/6)+.24*Math.cos(2*_)+.32*Math.cos(3*_+Math.PI/30)-.2*Math.cos(4*_-Math.PI/180*63),S=Math.PI/6*Math.exp(-Math.pow((_-Math.PI/180*275)/(Math.PI/180*25),2)),D=2*Math.sqrt(Math.pow(M,7)/(Math.pow(M,7)+6103515625)),C=1+.015*Math.pow(y-50,2)/Math.sqrt(20+Math.pow(y-50,2)),I=1+.045*M,k=1+.015*M*T,L=-Math.sin(2*S)*D;return Math.sqrt(Math.pow(w/(1*C),2)+Math.pow(v/(1*I),2)+Math.pow(b/(1*k),2)+L*(v/(1*I))*(b/(1*k)))}(d(l(r((0,a.parseRgba)(e)))),d(l(r((0,a.parseRgba)(t)))));return n<3}function l(e){
const[t,n,a]=e,i=t/255,o=n/255,r=a/255,s=100*(i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92),l=100*(o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92),d=100*(r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92);return[.4124*s+.3576*l+.1805*d,.2126*s+.7152*l+.0722*d,.0193*s+.1192*l+.9505*d]}function d(e){const[t,n,a]=e,i=t/95.047,o=n/100,r=a/108.883,s=i>.008856?Math.pow(i,1/3):7.787*i+16/116,l=o>.008856?Math.pow(o,1/3):7.787*o+16/116;return[116*l-16,500*(s-l),200*(l-(r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}},586563:(e,t,n)=>{function a(e){let t;if("object"!=typeof e||null==e||"number"==typeof e.nodeType)t=e;else if(e instanceof Date)t=new Date(e.valueOf());else if(Array.isArray(e)){t=[];let n=0;const i=e.length;for(;n<i;n++)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=a(e[n]))}else{t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=a(e[n]))}return t}n.d(t,{deepCopy:()=>a})}}]);